import{s as $,am as B,a6 as C,o as l,c as A,u as d,d as b,B as v,a as r,g as t,aj as E,J as N,K as V}from"../vendor/main.js";import{p as j}from"../ajax/main.js";import{e as q,_ as M,a as T,b as I,c as J,f as K,d as L}from"../tailwind-checkout/main.js";import{u as y}from"../CheckoutStore/main.js";/* empty css                               */const R={class:"flex flex-col gpos-checkout-class"},z={class:"flex flex-col w-full gap-4"},D={class:"flex w-full flex-col gap-2 md:flex-row md:justify-between"},F={class:"flex w-full"},G={class:"inline-flex relative px-3 items-center text-sm border border-r-0 border-gray-300 rounded-l !bg-white"},H=["placeholder"],O={__name:"App",setup(i){const{checkBin:n,gateway:w,isTestMode:k}=y(),{card:e}=$(y());return B(e,s=>{document.dispatchEvent(new CustomEvent("gpos-card-data-changed",{detail:s}))},{deep:!0}),C(()=>{let s="",o=null;document.addEventListener("gpos-card-data-changed",async x=>{var u,m,p,f,_,h,g;const c=await x.detail.bin.replaceAll(/\s/g,"").slice(0,8);if(c.length<8&&(e.value.type="",e.value.brand="",e.value.family="",e.value.bank_name="",e.value.country=""),c.length===8&&s!==c){s=c,o&&o.abort(),o=n(c);const a=await o;a&&a.success&&(e.value.type=(u=a.data)==null?void 0:u.type,e.value.brand=(m=a.data)==null?void 0:m.scheme,e.value.family=(p=a.data)==null?void 0:p.family,e.value.bank_name=(_=(f=a.data)==null?void 0:f.bank)==null?void 0:_.name,e.value.country=(g=(h=a.data)==null?void 0:h.country)==null?void 0:g.name)}})}),(s,o)=>(l(),A("div",R,[d(w)?v("",!0):(l(),b(K,{key:0})),r("div",z,[d(k)?(l(),b(L,{key:0})):v("",!0),t(q),t(M),r("div",D,[t(T),t(I)]),r("div",F,[r("span",G,[t(d(E),{class:"w-6 h-6","aria-hidden":"true"})]),r("input",{type:"text",class:"!rounded-r !border-y !border-r !border-l-0 !w-full !border-gray-300 !m-0",placeholder:s.$t("card_name"),name:"gpos-card-name"},null,8,H)]),t(J)])]))}};window.gposCreateCheckoutApplication=()=>{const i=N({locale:"default",messages:window.gpos.strings}),n=V(O);return n.use(j),n.use(i),n.mount("#app")};

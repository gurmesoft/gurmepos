import{s as $,aj as B,a3 as C,o as l,c as E,u as d,d as b,q as v,a as r,g as t,ag as A,D as q,E as N}from"../vendor/main.js";import{p as V}from"../ajax/main.js";import{e as j,_ as M,a as T,b as D,c as I,f as L,d as R}from"../tailwind-checkout/main.js";import{u as y}from"../CheckoutStore/main.js";/* empty css                               */const z={class:"flex flex-col gpos-checkout-class"},F={class:"flex flex-col w-full gap-4"},G={class:"flex w-full flex-col gap-2 md:flex-row md:justify-between"},H={class:"flex w-full"},J={class:"inline-flex relative px-3 items-center text-sm border border-r-0 border-gray-300 rounded-l !bg-white"},K=["placeholder"],O={__name:"App",setup(i){const{checkBin:n,gateway:w,isTestMode:k}=y(),{card:e}=$(y());return B(e,s=>{document.dispatchEvent(new CustomEvent("gpos-card-data-changed",{detail:s}))},{deep:!0}),C(()=>{let s="",o=null;document.addEventListener("gpos-card-data-changed",async x=>{var u,m,p,f,_,h,g;const c=await x.detail.bin.replaceAll(/\s/g,"").slice(0,8);if(c.length<8&&(e.value.type="",e.value.brand="",e.value.family="",e.value.bank_name="",e.value.country=""),c.length===8&&s!==c){s=c,o&&o.abort(),o=n(c);const a=await o;a&&a.success&&(e.value.type=(u=a.data)==null?void 0:u.type,e.value.brand=(m=a.data)==null?void 0:m.scheme,e.value.family=(p=a.data)==null?void 0:p.family,e.value.bank_name=(_=(f=a.data)==null?void 0:f.bank)==null?void 0:_.name,e.value.country=(g=(h=a.data)==null?void 0:h.country)==null?void 0:g.name)}})}),(s,o)=>(l(),E("div",z,[d(w)?v("",!0):(l(),b(L,{key:0})),r("div",F,[d(k)?(l(),b(R,{key:0})):v("",!0),t(j),t(M),r("div",G,[t(T),t(D)]),r("div",H,[r("span",J,[t(d(A),{class:"w-6 h-6","aria-hidden":"true"})]),r("input",{type:"text",class:"!rounded-r !border-y !border-r !border-l-0 !w-full !border-gray-300 !m-0",placeholder:s.$t("card_name"),name:"gpos-card-name"},null,8,K)]),t(I)])]))}};window.gposCreateCheckoutApplication=()=>{const i=q({locale:"default",messages:window.gpos.strings}),n=N(O);return n.use(V),n.use(i),n.mount("#app")};

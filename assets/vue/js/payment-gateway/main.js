import{e as q,S as b,o as r,a as d,r as x,b as t,h as n,u as e,G,s as v,f as $,g as u,q as f,t as a,w as A,p as C,n as y,F as w,H as B,j as i,C as S,T as N,y as U,J as F,B as M,k as O,l as R}from"../vendor/main.js";import{a as h,u as z,_ as E,p as H}from"../tailwind/main.js";import{_ as T}from"../PrimaryButton/main.js";import{_ as J}from"../Warning/main.js";const L=q("GatewayAccount",{state:()=>({gatewayAccount:window.gpos.gateway_account||{}}),actions:{async updateAccountSettings(){await h.post("update_account_settings",{id:this.gatewayAccount.id,settings:this.gatewayAccount.gateway_settings}),b.fire({text:"Ayarlar kayıt edildi.",icon:"success",confirmButtonText:"Tamam",confirmButtonColor:"#1A56DB"})},async testConnection(){const _=await h.post("check_connection",{id:this.gatewayAccount.id,settings:this.gatewayAccount.gateway_settings});b.fire({text:_.message,icon:_.result,confirmButtonText:"Tamam",confirmButtonColor:"#1A56DB"})},async deleteAccount(){return await h.post("remove_gateway_account",{id:this.gatewayAccount.id})}}}),K=["href"],P={key:1,type:"button",class:"!text-blue-700 border border-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center mr-2"},V={__name:"OutlineButton",props:["href"],setup(_){return(l,s)=>_.href?(r(),d("a",{key:0,href:_.href,class:"!text-blue-700 border border-blue-700 !focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center mr-2"},[x(l.$slots,"default")],8,K)):(r(),d("button",P,[x(l.$slots,"default")]))}},Q={class:"w-72 flex justify-between py-4 px-3 bg-gray-50 rounded-lg items-center"},W={class:"text-base"},X={__name:"FeatureBadge",setup(_){return(l,s)=>(r(),d("div",Q,[t("span",W,[x(l.$slots,"default")]),n(e(G),{class:"w-6 h-6 text-green-300"})]))}},Y={class:"w-full flex gap-5"},Z={class:"w-3/5"},ee={class:"w-full flex flex-wrap"},te={class:"w-full"},se={class:"block mb-2 text-sm font-medium text-gray-900"},ae=["onUpdate:modelValue","placeholder","disabled"],oe={class:"w-full flex justify-between items-center p-2 mt-4"},ne={key:0,class:"bg-yellow-50 rounded-lg border-2 border-yellow-600 border-dashed py-10 px-3 mt-5"},le={class:"w-full flex flex-wrap"},ce={class:"w-full"},re={class:"block mb-2 text-sm font-medium text-gray-900"},ie=["onUpdate:modelValue","placeholder"],de={class:"w-full flex justify-between items-center p-2 mt-4"},ue={class:"w-2/5"},_e={class:"w-full flex flex-col gap-2"},pe=["src"],me={class:"text-lg text-gray-500"},ge=["href"],fe={class:"mt-10"},ye={class:"text-2xl font-bold text-[#111928]"},we={class:"w-full flex flex-wrap gap-5 mt-4"},he={class:"mt-5"},be={class:"text-2xl font-bold text-[#111928]"},xe={class:"w-1/2 flex items-center flex-wrap break-words bg-gray-50 rounded-lg py-4 px-3 mt-4"},ke={class:"flex gap-2 items-center"},ve={class:"text-xs text-gray-900 font-medium"},$e={__name:"App",setup(_){const l=L(),{gatewayAccount:s}=v(l),j=z(),{isTestMode:p,paymentGateways:I}=v(j);s.value.gateway_property=I.value.find(o=>o.id===s.value.gateway_id);const D=async()=>{await l.deleteAccount(),b.fire({text:"Silme işlemi tamamlandı.",icon:"success",confirmButtonText:"Tamam",confirmButtonColor:"#1A56DB"}).then(function(){window.location.href="/wp-admin/admin.php?page=gpos-payment-gateways"})};return(o,Ce)=>(r(),$(E,null,{default:u(()=>[t("div",Y,[t("div",Z,[t("div",ee,[(r(!0),d(w,null,f(e(s).gateway_property.fields,(c,m)=>(r(),d("div",{key:m,class:"w-1/2 p-2"},[t("div",te,[t("label",se,a(c.label),1),A(t("input",{"onUpdate:modelValue":g=>e(s).gateway_settings[c.model]=g,type:"text",class:y(`!bg-gray-50 !border !border-gray-300 !text-gray-900 !text-sm !rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full !p-3 ${e(p)?"placeholder:text-gray-300":"placeholder:text-gray-600"}`),placeholder:c.label,required:"",disabled:e(p)},null,10,ae),[[C,e(s).gateway_settings[c.model]]])])]))),128)),t("div",oe,[t("div",null,[n(V,{class:y(`${e(p)?"!border-gray-100 !text-gray-200":"bg-white"}`),disabled:e(p),onClick:e(l).testConnection},{default:u(()=>[n(e(B),{class:"w-4 h-4 mr-2"}),i(" "+a(o.$t("connect_test")),1)]),_:1},8,["class","disabled","onClick"]),n(T,{class:y(`${e(p)?"!bg-gray-100":"!bg-blue-700"}`),disabled:e(p),onClick:e(l).updateAccountSettings},{default:u(()=>[n(e(S),{class:"w-4 h-4 mr-2"}),i(" "+a(o.$t("save_settings")),1)]),_:1},8,["class","disabled","onClick"])]),t("button",{class:"mt-6 text-xs text-red-600 flex gap-1 items-center font-medium",onClick:D},[n(e(N),{class:"w-3 h-3"}),i(a(o.$t("delete_gateway")),1)])])]),e(p)?(r(),d("div",ne,[n(J,{class:"!border-0"},{content:u(()=>[i(a(o.$t("test_mode_content")),1)]),default:u(()=>[i(a(o.$t("test_mode_title"))+" ",1)]),_:1}),t("div",le,[(r(!0),d(w,null,f(e(s).gateway_property.test_fields,(c,m)=>(r(),d("div",{key:m,class:"w-1/2 p-2"},[t("div",ce,[t("label",re,a(c.label),1),A(t("input",{"onUpdate:modelValue":g=>e(s).gateway_settings[c.model]=g,type:"text",class:"!bg-gray-50 !border !border-gray-300 !text-gray-900 !text-sm !rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full !p-3",placeholder:c.label,required:""},null,8,ie),[[C,e(s).gateway_settings[c.model]]])])]))),128))]),t("div",de,[t("div",null,[n(V,{onClick:e(l).testConnection},{default:u(()=>[n(e(B),{class:"w-4 h-4 mr-2"}),i(a(o.$t("connect_test")),1)]),_:1},8,["onClick"]),n(T,{onClick:e(l).updateAccountSettings},{default:u(()=>[n(e(S),{class:"w-4 h-4 mr-2"}),i(a(o.$t("save_settings")),1)]),_:1},8,["onClick"])])])])):U("",!0)]),t("div",ue,[t("div",_e,[t("img",{class:"w-1/4",src:e(s).gateway_property.logo},null,8,pe),t("p",me,a(o.$t(`${e(s).gateway_id}.description`)),1),t("a",{href:e(s).gateway_property.merchant_panel,target:"_blank",class:"mt-2 text-blue-700 text-sm flex gap-1 items-center"},[i(a(o.$t("gateway_screen")),1),n(e(F),{class:"w-3 h-3 text-blue-700"})],8,ge)])])]),t("div",fe,[t("span",ye,a(o.$t("supports_features")),1),t("div",we,[(r(!0),d(w,null,f(e(s).gateway_property.supports,(c,m)=>(r(),$(X,{key:m},{default:u(()=>[i(a(o.$t(c)),1)]),_:2},1024))),128))])]),t("div",he,[t("span",be,a(o.$t("supports_currency")),1),t("div",xe,[t("div",ke,[n(e(M),{class:"w-5 h-5 text-gray-900"}),t("span",ve,a(e(s).gateway_property.currencies.join(", ")),1)])])])]),_:1}))}},Ae=O({locale:"default",messages:window.gpos.strings}),k=R($e);k.use(H);k.use(Ae);k.mount("#app");

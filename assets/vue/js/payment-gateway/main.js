import{h as I,S as v,o as l,c as i,r as b,a as e,d as o,u as t,z as V,A as q,s as $,b as k,w as d,k as m,t as a,n as y,F as w,D as A,e as r,C,T as D,m as G,G as N,B as F,f as M,g as z}from"../vendor/main.js";import{p as O}from"../tailwind/main.js";import{b as h,u as Q,_ as R,a as B}from"../PrimaryButton/main.js";import{_ as E}from"../Warning/main.js";const L=I("GatewayAccount",{state:()=>({gatewayAccount:window.gpos.gateway_account||{}}),actions:{async updateAccountSettings(){await h.post("update_account_settings",{id:this.gatewayAccount.id,settings:this.gatewayAccount.gateway_settings}),v.fire({text:"Ayarlar kayÄ±t edildi.",icon:"success",confirmButtonText:"Tamam",confirmButtonColor:"#1A56DB"})},async testConnection(){const u=await h.post("check_connection",{id:this.gatewayAccount.id,settings:this.gatewayAccount.gateway_settings});v.fire({text:u.message,icon:u.result,confirmButtonText:"Tamam",confirmButtonColor:"#1A56DB"})},async deleteAccount(){return await h.post("remove_gateway_account",{id:this.gatewayAccount.id})}}}),H=["href"],J={key:1,type:"button",class:"!text-blue-700 border border-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center mr-2"},S={__name:"OutlineButton",props:["href"],setup(u){return(c,n)=>u.href?(l(),i("a",{key:0,href:u.href,class:"!text-blue-700 border border-blue-700 !focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center mr-2"},[b(c.$slots,"default")],8,H)):(l(),i("button",J,[b(c.$slots,"default")]))}},K={class:"w-72 flex justify-between py-4 px-3 bg-gray-50 rounded-lg items-center"},P={class:"text-base"},U={__name:"FeatureBadge",setup(u){return(c,n)=>(l(),i("div",K,[e("span",P,[b(c.$slots,"default")]),o(t(V),{class:"w-6 h-6 text-green-300"})]))}},W={class:"w-full flex gap-5"},X={class:"w-3/5"},Y={class:"w-full flex flex-wrap"},Z={class:"w-full"},ee={class:"block mb-2 text-sm font-medium text-gray-900"},te=["placeholder","disabled"],se={class:"w-full flex justify-between items-center p-2 mt-4"},ae={class:"mt-6 text-xs text-red-600 flex gap-1 items-center font-medium"},oe={key:0,class:"bg-yellow-50 rounded-lg border-2 border-yellow-600 border-dashed py-10 px-3 mt-5"},ne={class:"w-full flex flex-wrap"},le={class:"w-full"},ce={class:"block mb-2 text-sm font-medium text-gray-900"},re=["placeholder"],ie={class:"w-full flex justify-between items-center p-2 mt-4"},de={class:"w-2/5"},ue={class:"w-full flex flex-col gap-2"},_e=["src"],pe={class:"text-lg text-gray-500"},ge=["href"],fe={class:"mt-10"},me={class:"text-2xl font-bold text-[#111928]"},ye={class:"w-full flex flex-wrap gap-5 mt-4"},we={class:"mt-5"},he={class:"text-2xl font-bold text-[#111928]"},be={class:"w-1/2 flex items-center flex-wrap break-words bg-gray-50 rounded-lg py-4 px-3"},xe={class:"flex gap-2 items-center"},ve={class:"text-xs text-gray-900 font-medium"},$e={__name:"App",setup(u){q(()=>{const s=jQuery("#toplevel_page_gurmepos"),f=jQuery(".toplevel_page_gurmepos");s.addClass("wp-has-current-submenu"),f.addClass("wp-has-current-submenu"),f.siblings("ul").children("li").eq(2).addClass("current")});const c=L(),{gatewayAccount:n}=$(c),T=Q(),{isTestMode:_,paymentGateways:j}=$(T);return n.value.gateway_property=j.value.find(s=>s.id===n.value.gateway_id),(s,f)=>(l(),k(R,null,{default:d(()=>[e("div",W,[e("div",X,[e("div",Y,[(l(!0),i(w,null,m(t(n).gateway_property.fields,(p,g)=>(l(),i("div",{key:g,class:"w-1/2 p-2"},[e("div",Z,[e("label",ee,a(p.label),1),e("input",{type:"text",class:y(`!bg-gray-50 !border !border-gray-300 !text-gray-900 !text-sm !rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full !p-3 ${t(_)?"placeholder:text-gray-300":"placeholder:text-gray-600"}`),placeholder:p.label,required:"",disabled:t(_)},null,10,te)])]))),128)),e("div",se,[e("div",null,[o(S,{class:y(`${t(_)?"!border-gray-100 !text-gray-200":"bg-white"}`),disabled:t(_),onClick:t(c).testConnection},{default:d(()=>[o(t(A),{class:"w-4 h-4 mr-2"}),r(" "+a(s.$t("connect_test")),1)]),_:1},8,["class","disabled","onClick"]),o(B,{class:y(`${t(_)?"!bg-gray-100":"!bg-blue-700"}`),disabled:t(_)},{default:d(()=>[o(t(C),{class:"w-4 h-4 mr-2"}),r(" "+a(s.$t("save_settings")),1)]),_:1},8,["class","disabled"])]),e("button",ae,[o(t(D),{class:"w-3 h-3"}),r(a(s.$t("delete_gateway")),1)])])]),t(_)?(l(),i("div",oe,[o(E,{class:"!border-0"},{content:d(()=>[r(a(s.$t("test_mode_content")),1)]),default:d(()=>[r(a(s.$t("test_mode_title"))+" ",1)]),_:1}),e("div",ne,[(l(!0),i(w,null,m(t(n).gateway_property.fields,(p,g)=>(l(),i("div",{key:g,class:"w-1/2 p-2"},[e("div",le,[e("label",ce,a(p.label),1),e("input",{type:"text",class:"!bg-gray-50 !border !border-gray-300 !text-gray-900 !text-sm !rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full !p-3",placeholder:p.label,required:""},null,8,re)])]))),128))]),e("div",ie,[e("div",null,[o(S,{onClick:t(c).testConnection},{default:d(()=>[o(t(A),{class:"w-4 h-4 mr-2"}),r(a(s.$t("connect_test")),1)]),_:1},8,["onClick"]),o(B,{onClick:t(c).updateAccountSettings},{default:d(()=>[o(t(C),{class:"w-4 h-4 mr-2"}),r(a(s.$t("save_settings")),1)]),_:1},8,["onClick"])])])])):G("",!0)]),e("div",de,[e("div",ue,[e("img",{class:"w-1/4",src:t(n).gateway_property.logo},null,8,_e),e("p",pe,a(s.$t(`${t(n).gateway_id}.description`)),1),e("a",{href:t(n).gateway_property.merchant_panel,target:"_blank",class:"mt-2 text-blue-700 text-sm flex gap-1 items-center"},[r(a(s.$t("gateway_screen")),1),o(t(N),{class:"w-3 h-3 text-blue-700"})],8,ge)])])]),e("div",fe,[e("span",me,a(s.$t("supports_features")),1),e("div",ye,[(l(!0),i(w,null,m(t(n).gateway_property.supports,(p,g)=>(l(),k(U,{key:g},{default:d(()=>[r(a(s.$t(p)),1)]),_:2},1024))),128))])]),e("div",we,[e("span",he,a(s.$t("supports_currency")),1),e("div",be,[e("div",xe,[o(t(F),{class:"w-5 h-5 text-gray-900"}),e("span",ve,a(t(n).gateway_property.currencies.join(", ")),1)])])])]),_:1}))}},ke=M({locale:"default",messages:window.gpos.strings}),x=z($e);x.use(O);x.use(ke);x.mount("#app");

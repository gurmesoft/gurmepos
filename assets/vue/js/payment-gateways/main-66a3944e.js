import{o,c as r,r as A,j as F,s as x,x as S,g as c,e as p,f as _,t as s,u,M as N,a as t,N as V,O as z,w as I,m as P,F as G,q as C,n as L,d as w,P as q,l as b,Q as E,R,T as J,J as K,K as O}from"../vendor/main-0b129abe.js";import{a as k,p as Q}from"../ajax/main-ce60c976.js";import{u as B,_ as U}from"../Page/main-f3bea6cb.js";import{_ as H}from"../_plugin-vue_export-helper/main-c27b6911.js";import{_ as W}from"../ProBadge/main-f2ddb319.js";import{_ as j}from"../PrimaryButton/main-b1c50cde.js";import{S as X}from"../SetDefaultBadge/main-4b5c85ab.js";import{_ as Y,a as Z}from"../Warning/main-195df79f.js";/* empty css                       */const tt={},et={type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm p-2 text-center inline-flex items-center mr-2"};function st(d,n){return o(),r("button",et,[A(d.$slots,"default")])}const at=H(tt,[["render",st]]),v=F("GatewayAccounts",{state:()=>({gatewayAccounts:window.gpos.gateway_accounts||[]}),actions:{async addGatewayAccount(d){return await k.post("add_gateway_account",{gateway:d})},async getGatewayAccounts(){const d=await k.get("get_gateway_accounts");this.gatewayAccounts=d},updateActiveStatus(d,n){k.post("update_active_status",{id:d,status:n})},async updateDefaultStatus(d,n){return await k.post("update_default_status",{id:d,default:n})}}}),ot={id:"add-payment-gateway",tabindex:"-1","aria-hidden":"true",class:"fixed top-0 left-0 right-0 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] md:h-full"},nt={class:"relative w-full h-full max-w-md md:h-auto"},lt={class:"relative bg-white rounded-lg shadow"},rt={class:"flex items-start justify-between p-1"},dt={id:"add-payment-gateway-close",type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center","data-modal-hide":"add-payment-gateway"},it={class:"py-6 pl-6 pr-3 space-y-3"},ct={class:"text-xl font-semibold flex items-center"},ut={class:"ml-2 bg-purple-100 text-purple-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded border border-purple-400"},pt={class:"relative w-full"},_t={class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},mt={class:"pr-4"},ft=["placeholder"],yt={class:"payment-gateway-modal mt-2 space-y-5 overflow-y-auto h-60 max-h-min"},ht=["onMouseover"],gt={class:"flex gap-2 items-center py-2"},wt=["src"],bt={class:"text-sm font-normal text-gray-500"},$t={key:1},xt={class:"px-6 pt-3 pb-6 text-sm font-medium text-gray-500"},vt={href:"https://posentegrator.com/bize-ulasin/",target:"_blank",class:"text-blue-600"},kt={__name:"AddPaymentGatewayModal",setup(d){const{paymentGateways:n}=B(),{addGatewayAccount:g}=v(),{gatewayAccounts:$}=x(v()),f=S(!1),i=S(""),y=()=>n.filter(e=>e.title.toLowerCase().includes(i.value.toLowerCase())&&!$.value.find(l=>e.id===l.gateway_id)),M=async e=>{document.getElementById("add-payment-gateway-close").click();const l=await g(e);window.location.href=l.settings_url};return(e,l)=>(o(),r("div",null,[c(j,{"data-modal-target":"add-payment-gateway","data-modal-toggle":"add-payment-gateway"},{default:p(()=>[_(s(e.$t("add_payment_comp"))+" ",1),c(u(N),{class:"w-4 h-4 ml-2"})]),_:1}),t("div",ot,[t("div",nt,[t("div",lt,[t("div",rt,[t("button",dt,[c(u(V),{class:"w-5 h-5"})])]),t("div",it,[t("p",ct,[_(s(e.$t("add_payment_comp"))+" ",1),t("span",ut,s(u(n).length)+" "+s(e.$t("establishment")),1)]),t("div",pt,[t("div",_t,[c(u(z),{class:"w-4 h-4 text-blue-600"})]),t("div",mt,[I(t("input",{"onUpdate:modelValue":l[0]||(l[0]=a=>i.value=a),type:"text",class:"!bg-gray-50 border !border-gray-300 !text-gray-900 !text-sm !rounded-lg !focus:ring-blue-500 !focus:border-blue-500 !block !w-full !pl-10 !p-3 mb-6",placeholder:e.$t("search_payment_gateway"),required:""},null,8,ft),[[P,i.value]])])]),t("div",yt,[(o(!0),r(G,null,C(y(),(a,m)=>(o(),r("div",{key:m,class:L(`border rounded-lg flex justify-between items-center ${a.is_need_pro?"bg-gray-100 p-4":"p-3"}`),onMouseleave:l[1]||(l[1]=h=>f.value=!1),onMouseover:h=>f.value=m},[t("div",gt,[t("img",{class:"w-[50px] object-contain",src:a.logo},null,8,wt),t("span",bt,s(a.title),1)]),a.is_need_pro?(o(),w(W,{key:0})):(o(),r("div",$t,[f.value===m?(o(),w(at,{key:0,onClick:h=>M(a.id)},{default:p(()=>[c(u(q),{class:"w-5 h-5 font-bold"})]),_:2},1032,["onClick"])):b("",!0)]))],42,ht))),128))])]),t("p",xt,[_(s(e.$t("find_comp"))+" ",1),t("a",vt,s(e.$t("contact_us")),1)])])])])]))}},At={class:"w-full text-sm text-left bg-white shadow-md"},Mt={class:"text-xs text-gray-500 uppercase bg-[#F9FAFB]"},St={scope:"col",class:"px-6 py-3"},Gt={scope:"col",class:"px-6 py-3"},Ct={scope:"col",class:""},jt={scope:"col",class:"px-6 py-3 sr-only"},Bt={key:0},Dt={colspan:"4",class:"px-6 py-4 text-sm text-gray-400"},Tt=["onMouseover"],Ft={scope:"row",class:"px-3 py-4 font-medium text-gray-900 rounded-lg whitespace-nowrap flex gap-5 items-center !min-w-[300px]"},Nt=["src"],Vt={key:1},zt={class:"px-6 py-4"},It={class:"flex gap-2 flex-wrap"},Pt=["href"],Lt=["data-tooltip-target"],qt=["id"],Et={class:"max-w-xs flex flex-wrap break-words"},Rt=t("div",{class:"tooltip-arrow","data-popper-arrow":""},null,-1),Jt={class:"px-6 py-4 flex justify-end"},Kt={__name:"PaymentGatewayTable",setup(d){const{paymentGateways:n}=x(B()),{updateDefaultStatus:g,getGatewayAccounts:$}=v(),{gatewayAccounts:f}=x(v()),i=S(!1),y=(e,l)=>n.value.find(m=>m.id==e.gateway_id)[l],M=async(e,l)=>{await g(e,l),$()};return(e,l)=>(o(),r("table",At,[t("thead",Mt,[t("tr",null,[t("th",St,s(e.$t("payment_method")),1),t("th",Gt,s(e.$t("features")),1),t("th",Ct,s(e.$t("currency")),1),t("th",jt,s(e.$t("actions")),1)])]),t("tbody",null,[u(f).length===0?(o(),r("tr",Bt,[t("td",Dt,s(e.$t("not_active_comp")),1)])):(o(!0),r(G,{key:1},C(u(f),(a,m)=>(o(),r("tr",{key:m,class:"bg-white border border-gray-100",onMouseleave:l[0]||(l[0]=h=>i.value=!1),onMouseover:h=>i.value=m},[t("th",Ft,[t("img",{class:"w-[50px] max-h-[30px]",src:y(a,"logo")},null,8,Nt),_(" "+s(y(a,"title"))+" ",1),a.is_default?(o(),w(X,{key:0},{default:p(()=>[_(s(e.$t("default")),1)]),_:1})):b("",!0),i.value===m&&!a.is_default?(o(),r("div",Vt,[c(j,{class:"!inline-flex !items-center !bg-blue-700 !text-white !text-xs !font-medium !mr-2 !px-2.5 !py-0.5 !rounded-full",onClick:h=>M(a.id,!0)},{default:p(()=>[_(s(e.$t("make_default")),1)]),_:2},1032,["onClick"])])):b("",!0)]),t("td",zt,[t("div",It,[(o(!0),r(G,null,C(y(a,"supports").slice(0,5),(h,T)=>(o(),r("span",{key:T,class:"bg-blue-100 text-blue-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded"},s(e.$t(h)),1))),128)),y(a,"supports").length>5?(o(),r("a",{key:0,href:a.settings_url,class:"bg-gray-100 text-gray-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded underline"},s(e.$t("all_features")),9,Pt)):b("",!0)])]),t("td",null,[t("button",{"data-tooltip-target":`currency-${a.id}`,"data-tooltip-placement":"bottom",type:"button"},[c(u(E),{class:"w-5 h-5 text-green-600"})],8,Lt),t("div",{id:`currency-${a.id}`,role:"tooltip",class:"absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip"},[t("div",Et,s(y(a,"currencies").join(", ")),1),Rt],8,qt)]),t("td",Jt,[c(j,{href:a.settings_url},{default:p(()=>[c(u(R),{class:"w-4 h-4"})]),_:2},1032,["href"])])],40,Tt))),128))])]))}},Ot={class:"p-4 mb-4 text-blue-600 border border-blue-200 rounded-lg bg-blue-50 w-full",role:"alert"},Qt={class:"flex items-center"},Ut={class:"text-blue-600 text-md font-medium"},Ht={class:"text-blue-600 mt-2 mb-4 text-sm"},Wt={__name:"Info",setup(d){return(n,g)=>(o(),r("div",Ot,[t("div",Qt,[c(u(J),{class:"w-4 h-4 mr-2"}),t("span",Ut,[A(n.$slots,"default")])]),t("div",Ht,[A(n.$slots,"content")]),A(n.$slots,"button")]))}},Xt={class:"w-full flex justify-between items-center border mb-4 border-gray-100 rounded-lg p-5 bg-white shadow-md"},Yt=t("div",{id:"sticky-banner",tabindex:"-1",class:"fixed bottom-10 right-10"},null,-1),Zt={__name:"App",setup(d){const n=B(),{isTestMode:g}=x(n),$=v(),{gatewayAccounts:f}=x($);return(i,y)=>(o(),w(U,{text:i.$t("payment_methods"),href:"https://yardim.gurmehub.com/docs/pos-entegrator/odeme-yontemleri/?utm_source=wp_plugin&utm_medium=referal&utm_campaign=footer"},{default:p(()=>[u(g)?(o(),w(Y,{key:0,class:"p-4 mb-4"},{content:p(()=>[_(s(i.$t("test_mode_content")),1)]),default:p(()=>[_(s(i.$t("test_mode_title")),1)]),_:1})):b("",!0),u(f).length===0?(o(),w(Wt,{key:1},{content:p(()=>[_(s(i.$t("empty_gateway_content")),1)]),default:p(()=>[_(s(i.$t("empty_gateway_title")),1)]),_:1})):b("",!0),t("div",Xt,[c(Z),c(kt)]),c(Kt),Yt]),_:1},8,["text"]))}},te=K({locale:"default",messages:window.gpos.strings,legacy:!1}),D=O(Zt);D.use(Q);D.use(te);D.mount("#app");

import{o as s,a as d,r as x,e as P,s as $,m as V,h as u,g as f,j as y,t as n,u as p,P as E,b as e,X as F,M as N,w as G,p as L,F as I,q as T,n as U,f as w,x as q,y as v,S as K,B as R,z as X,c as O,d as Y,i as j,I as H,E as J,k as Q,l as W}from"../vendor/main.js";import{a as A,u as M,_ as Z,p as ee}from"../tailwind/main.js";import{_ as te}from"../ProBadge/main.js";import{_ as B}from"../PrimaryButton/main.js";import{_ as se}from"../Warning/main.js";const z=(o,t)=>{const i=o.__vccOpts||o;for(const[m,r]of t)i[m]=r;return i},oe={},ae={type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm p-2 text-center inline-flex items-center mr-2"};function ne(o,t){return s(),d("button",ae,[x(o.$slots,"default")])}const le=z(oe,[["render",ne]]),k=P("GatewayAccounts",{state:()=>({gatewayAccounts:window.gpos.gateway_accounts||[]}),actions:{async addGatewayAccount(o){return await A.post("add_gateway_account",{gateway:o})},async getGatewayAccounts(){const o=await A.get("get_gateway_accounts");this.gatewayAccounts=o},updateActiveStatus(o,t){A.post("update_active_status",{id:o,status:t})},async updateDefaultStatus(o,t){return await A.post("update_default_status",{id:o,default:t})}}}),re={id:"add-payment-gateway",tabindex:"-1","aria-hidden":"true",class:"fixed top-0 left-0 right-0 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] md:h-full"},ce={class:"relative w-full h-full max-w-md md:h-auto"},de={class:"relative bg-white rounded-lg shadow"},ie={class:"flex items-start justify-between p-1"},ue={id:"add-payment-gateway-close",type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center","data-modal-hide":"add-payment-gateway"},pe={class:"py-6 pl-6 pr-3 space-y-3"},_e={class:"text-xl font-semibold flex items-center"},me={class:"ml-2 bg-purple-100 text-purple-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded border border-purple-400"},fe={class:"relative w-full"},ye={class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},ge={class:"pr-4"},he={class:"payment-gateway-modal mt-2 space-y-5 overflow-y-auto h-60 max-h-min"},be=["onMouseover"],we={class:"flex gap-2 items-center py-2"},xe=["src"],$e={class:"text-sm font-normal text-gray-500"},ve={key:1},ke={class:"px-6 pt-3 pb-6 text-sm font-medium text-gray-500"},Ae={href:"https://posentegrator.com/bize-ulasin/",target:"_blank",class:"text-blue-600"},Me={__name:"AddPaymentGatewayModal",setup(o){const{paymentGateways:t}=M(),{addGatewayAccount:i}=k(),{gatewayAccounts:m}=$(k()),r=V(!1),c=V(""),g=()=>t.filter(a=>a.title.toLowerCase().includes(c.value.toLowerCase())&&!m.value.find(_=>a.id===_.gateway_id)),C=async a=>{document.getElementById("add-payment-gateway-close").click();const _=await i(a);K.fire({text:"Ödeme Kuruluşu Eklendi.",icon:"success",confirmButtonText:"Ayarları Yapılandır",confirmButtonColor:"#1A56DB"}).then(()=>{window.location.href=_.settings_url})};return(a,_)=>(s(),d("div",null,[u(B,{"data-modal-target":"add-payment-gateway","data-modal-toggle":"add-payment-gateway"},{default:f(()=>[y(n(a.$t("add_payment_comp"))+" ",1),u(p(E),{class:"w-4 h-4 ml-2"})]),_:1}),e("div",re,[e("div",ce,[e("div",de,[e("div",ie,[e("button",ue,[u(p(F),{class:"w-5 h-5"})])]),e("div",pe,[e("p",_e,[y(n(a.$t("add_payment_comp"))+" ",1),e("span",me,n(p(t).length)+" "+n(a.$t("establishment")),1)]),e("div",fe,[e("div",ye,[u(p(N),{class:"w-4 h-4 text-blue-600"})]),e("div",ge,[G(e("input",{"onUpdate:modelValue":_[0]||(_[0]=l=>c.value=l),type:"text",class:"!bg-gray-50 border !border-gray-300 !text-gray-900 !text-sm !rounded-lg !focus:ring-blue-500 !focus:border-blue-500 !block !w-full !pl-10 !p-3 mb-6",placeholder:"Ödeme Kuruluşu Ara",required:""},null,512),[[L,c.value]])])]),e("div",he,[(s(!0),d(I,null,T(g(),(l,h)=>(s(),d("div",{key:h,class:U(`border rounded-lg flex justify-between items-center ${l.is_need_pro?"bg-gray-100 p-4":"p-3"}`),onMouseleave:_[1]||(_[1]=b=>r.value=!1),onMouseover:b=>r.value=h},[e("div",we,[e("img",{class:"w-[50px] object-contain",src:l.logo},null,8,xe),e("span",$e,n(l.title),1)]),l.is_need_pro?(s(),w(te,{key:0})):(s(),d("div",ve,[r.value===h?(s(),w(le,{key:0,onClick:b=>C(l.id)},{default:f(()=>[u(p(q),{class:"w-5 h-5 font-bold"})]),_:2},1032,["onClick"])):v("",!0)]))],42,be))),128))])]),e("p",ke,[y(n(a.$t("find_comp"))+" ",1),e("a",Ae,n(a.$t("contact_us")),1)])])])])]))}},Ce={},Ve={class:"inline-flex items-center bg-green-100 text-green-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full"},Ie=e("span",{class:"w-2 h-2 mr-1 bg-green-500 rounded-full"},null,-1);function Te(o,t){return s(),d("span",Ve,[Ie,x(o.$slots,"default")])}const Be=z(Ce,[["render",Te]]),Se={class:"w-full text-sm text-left"},Ge={class:"text-xs text-gray-500 uppercase bg-[#F9FAFB]"},je={scope:"col",class:"px-6 py-3"},ze={scope:"col",class:"px-6 py-3"},De={scope:"col",class:""},Pe={scope:"col",class:"px-6 py-3 sr-only"},Ee={key:0},Fe={colspan:"4",class:"px-6 py-4 text-sm text-gray-400"},Ne=["onMouseover"],Le={scope:"row",class:"px-3 py-4 font-medium text-gray-900 rounded-lg whitespace-nowrap flex gap-5 items-center !min-w-[300px]"},Ue=["src"],qe={key:1},Ke={class:"px-6 py-4"},Re={class:"flex gap-2 flex-wrap"},Xe=["href"],Oe=["data-tooltip-target"],Ye=["id"],He={class:"max-w-xs flex flex-wrap break-words"},Je=e("div",{class:"tooltip-arrow","data-popper-arrow":""},null,-1),Qe={class:"px-6 py-4 flex justify-end"},We={__name:"PaymentGatewayTable",setup(o){const{paymentGateways:t}=$(M()),{updateDefaultStatus:i,getGatewayAccounts:m}=k(),{gatewayAccounts:r}=$(k()),c=V(!1),g=(a,_)=>t.value.find(h=>h.id==a.gateway_id)[_],C=async(a,_)=>{await i(a,_),m()};return(a,_)=>(s(),d("table",Se,[e("thead",Ge,[e("tr",null,[e("th",je,n(a.$t("payment_method")),1),e("th",ze,n(a.$t("features")),1),e("th",De,n(a.$t("currency")),1),e("th",Pe,n(a.$t("actions")),1)])]),e("tbody",null,[p(r).length===0?(s(),d("tr",Ee,[e("td",Fe,n(a.$t("not_active_comp")),1)])):(s(!0),d(I,{key:1},T(p(r),(l,h)=>(s(),d("tr",{key:h,class:"bg-white border border-gray-100",onMouseleave:_[0]||(_[0]=b=>c.value=!1),onMouseover:b=>c.value=h},[e("th",Le,[e("img",{class:"w-[50px]",src:g(l,"logo")},null,8,Ue),y(" "+n(g(l,"title"))+" ",1),l.is_default?(s(),w(Be,{key:0},{default:f(()=>[y(" Varsayılan ")]),_:1})):v("",!0),c.value===h&&!l.is_default?(s(),d("div",qe,[u(B,{class:"!inline-flex !items-center !bg-blue-700 !text-white !text-xs !font-medium !mr-2 !px-2.5 !py-0.5 !rounded-full",onClick:b=>C(l.id,!0)},{default:f(()=>[y(" Varsayılan yap ")]),_:2},1032,["onClick"])])):v("",!0)]),e("td",Ke,[e("div",Re,[(s(!0),d(I,null,T(g(l,"supports").slice(0,5),(b,D)=>(s(),d("span",{key:D,class:"bg-blue-100 text-blue-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded"},n(a.$t(b)),1))),128)),e("a",{href:l.settings_url,class:"bg-gray-100 text-gray-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded underline"},"Tüm Özellikler",8,Xe)])]),e("td",null,[e("button",{"data-tooltip-target":`currency-${l.id}`,"data-tooltip-placement":"bottom",type:"button"},[u(p(R),{class:"w-5 h-5 text-green-600"})],8,Oe),e("div",{id:`currency-${l.id}`,role:"tooltip",class:"absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip"},[e("div",He,n(g(l,"currencies").join(", ")),1),Je],8,Ye)]),e("td",Qe,[u(B,{href:l.settings_url},{default:f(()=>[u(p(X),{class:"w-4 h-4"})]),_:2},1032,["href"])])],40,Ne))),128))])]))}},Ze={class:"flex gap-2 items-center"},et={class:"relative inline-flex items-center cursor-pointer"},tt=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},null,-1),st={class:"ml-3 text-sm font-medium text-gray-900"},ot={__name:"Toggle",props:["modelValue"],emits:["update:modelValue"],setup(o,{emit:t}){const i=o,m=O({get(){return i.modelValue},set(r){t("update:modelValue",r)}});return(r,c)=>(s(),d("div",Ze,[e("label",et,[G(e("input",{"onUpdate:modelValue":c[0]||(c[0]=g=>j(m)?m.value=g:null),type:"checkbox",class:"sr-only peer"},null,512),[[Y,p(m)]]),tt,e("span",st,[x(r.$slots,"default")])])]))}},at={"data-tooltip-target":"tooltip-bottom","data-tooltip-placement":"bottom"},nt={id:"tooltip-bottom",role:"tooltip",class:"absolute z-10 invisible inline-block px-3 py-2 text-sm text-white bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip w-60"},lt=e("div",{class:"tooltip-arrow","data-popper-arrow":""},null,-1),rt={__name:"Tooltip",setup(o){return(t,i)=>(s(),d("div",null,[e("button",at,[u(p(H),{class:"w-4 h-4"})]),e("div",nt,[x(t.$slots,"default"),lt])]))}},ct={class:"flex gap-2 items-center"},dt={__name:"TestMode",setup(o){const t=M(),{isTestMode:i}=$(t);return(m,r)=>(s(),d("div",ct,[u(ot,{modelValue:p(i),"onUpdate:modelValue":r[0]||(r[0]=c=>j(i)?i.value=c:null),onChange:p(t).updateTestMode},{default:f(()=>[y(n(m.$t("test_mode")),1)]),_:1},8,["modelValue","onChange"]),u(rt,{class:"mt-1"},{default:f(()=>[y(n(m.$t("test_mode_content")),1)]),_:1})]))}},it={id:"alert-additional-content-4",class:"p-4 mb-4 text-blue-600 border border-blue-200 rounded-lg bg-blue-50",role:"alert"},ut={class:"flex items-center"},pt={class:"text-blue-600 text-lg font-medium"},_t={class:"text-blue-600 mt-2 mb-4 text-sm"},mt={__name:"Info",setup(o){return(t,i)=>(s(),d("div",it,[e("div",ut,[u(p(J),{class:"w-4 h-4 mr-2"}),e("h3",pt,[x(t.$slots,"default")])]),e("div",_t,[x(t.$slots,"content")])]))}},ft={class:"w-full flex justify-between items-center border mb-2 border-gray-100 rounded-lg p-5"},yt=e("div",{id:"sticky-banner",tabindex:"-1",class:"fixed bottom-10 right-10"},null,-1),gt={__name:"App",setup(o){const t=M(),{isTestMode:i}=$(t),m=k(),{gatewayAccounts:r}=$(m);return(c,g)=>(s(),w(Z,null,{default:f(()=>[p(i)?(s(),w(se,{key:0},{content:f(()=>[y(n(c.$t("test_mode_content")),1)]),default:f(()=>[y(n(c.$t("test_mode_title")),1)]),_:1})):v("",!0),p(r).length===0?(s(),w(mt,{key:1},{content:f(()=>[y(n(c.$t("empty_gateway_content")),1)]),default:f(()=>[y(n(c.$t("empty_gateway_title")),1)]),_:1})):v("",!0),e("div",ft,[u(dt),u(Me)]),u(We),yt]),_:1}))}},ht=Q({locale:"default",messages:window.gpos.strings}),S=W(gt);S.use(ee);S.use(ht);S.mount("#app");

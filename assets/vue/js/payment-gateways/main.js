import{o as t,a as c,r as A,d as F,s as x,q as C,g as p,f,h as y,t as n,u as _,x as N,b as e,y as E,z as I,w as j,i as L,F as G,A as S,n as P,e as b,B as U,j as $,C as q,D as R,c as H,E as K,G as O,H as J,l as Q,m as W}from"../vendor/main.js";import{a as k,u as V,_ as X,p as Y}from"../tailwind/main.js";import{_ as Z}from"../ProBadge/main.js";import{_ as T}from"../PrimaryButton/main.js";import{_ as ee,a as te}from"../Info/main.js";const z=(s,a)=>{const i=s.__vccOpts||s;for(const[m,r]of a)i[m]=r;return i},se={},ae={type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm p-2 text-center inline-flex items-center mr-2"};function oe(s,a){return t(),c("button",ae,[A(s.$slots,"default")])}const ne=z(se,[["render",oe]]),v=F("GatewayAccounts",{state:()=>({gatewayAccounts:window.gpos.gateway_accounts||[]}),actions:{async addGatewayAccount(s){return await k.post("add_gateway_account",{gateway:s})},async getGatewayAccounts(){const s=await k.get("get_gateway_accounts");this.gatewayAccounts=s},updateActiveStatus(s,a){k.post("update_active_status",{id:s,status:a})},async updateDefaultStatus(s,a){return await k.post("update_default_status",{id:s,default:a})}}}),le={id:"add-payment-gateway",tabindex:"-1","aria-hidden":"true",class:"fixed top-0 left-0 right-0 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] md:h-full"},re={class:"relative w-full h-full max-w-md md:h-auto"},de={class:"relative bg-white rounded-lg shadow"},ce={class:"flex items-start justify-between p-1"},ie={id:"add-payment-gateway-close",type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center","data-modal-hide":"add-payment-gateway"},ue={class:"py-6 pl-6 pr-3 space-y-3"},pe={class:"text-xl font-semibold flex items-center"},_e={class:"ml-2 bg-purple-100 text-purple-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded border border-purple-400"},me={class:"relative w-full"},fe={class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},ye={class:"pr-4"},ge={class:"payment-gateway-modal mt-2 space-y-5 overflow-y-auto h-60 max-h-min"},he=["onMouseover"],we={class:"flex gap-2 items-center py-2"},be=["src"],xe={class:"text-sm font-normal text-gray-500"},$e={key:1},ve={class:"px-6 pt-3 pb-6 text-sm font-medium text-gray-500"},ke={href:"https://posentegrator.com/bize-ulasin/",target:"_blank",class:"text-blue-600"},Ae={__name:"AddPaymentGatewayModal",setup(s){const{paymentGateways:a}=V(),{addGatewayAccount:i}=v(),{gatewayAccounts:m}=x(v()),r=C(!1),d=C(""),g=()=>a.filter(o=>o.title.toLowerCase().includes(d.value.toLowerCase())&&!m.value.find(u=>o.id===u.gateway_id)),M=async o=>{document.getElementById("add-payment-gateway-close").click();const u=await i(o);window.location.href=u.settings_url};return(o,u)=>(t(),c("div",null,[p(T,{"data-modal-target":"add-payment-gateway","data-modal-toggle":"add-payment-gateway"},{default:f(()=>[y(n(o.$t("add_payment_comp"))+" ",1),p(_(N),{class:"w-4 h-4 ml-2"})]),_:1}),e("div",le,[e("div",re,[e("div",de,[e("div",ce,[e("button",ie,[p(_(E),{class:"w-5 h-5"})])]),e("div",ue,[e("p",pe,[y(n(o.$t("add_payment_comp"))+" ",1),e("span",_e,n(_(a).length)+" "+n(o.$t("establishment")),1)]),e("div",me,[e("div",fe,[p(_(I),{class:"w-4 h-4 text-blue-600"})]),e("div",ye,[j(e("input",{"onUpdate:modelValue":u[0]||(u[0]=l=>d.value=l),type:"text",class:"!bg-gray-50 border !border-gray-300 !text-gray-900 !text-sm !rounded-lg !focus:ring-blue-500 !focus:border-blue-500 !block !w-full !pl-10 !p-3 mb-6",placeholder:"Ödeme Kuruluşu Ara",required:""},null,512),[[L,d.value]])])]),e("div",ge,[(t(!0),c(G,null,S(g(),(l,h)=>(t(),c("div",{key:h,class:P(`border rounded-lg flex justify-between items-center ${l.is_need_pro?"bg-gray-100 p-4":"p-3"}`),onMouseleave:u[1]||(u[1]=w=>r.value=!1),onMouseover:w=>r.value=h},[e("div",we,[e("img",{class:"w-[50px] object-contain",src:l.logo},null,8,be),e("span",xe,n(l.title),1)]),l.is_need_pro?(t(),b(Z,{key:0})):(t(),c("div",$e,[r.value===h?(t(),b(ne,{key:0,onClick:w=>M(l.id)},{default:f(()=>[p(_(U),{class:"w-5 h-5 font-bold"})]),_:2},1032,["onClick"])):$("",!0)]))],42,he))),128))])]),e("p",ve,[y(n(o.$t("find_comp"))+" ",1),e("a",ke,n(o.$t("contact_us")),1)])])])])]))}},Ve={},Me={class:"inline-flex items-center bg-green-100 text-green-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full"},Ce=e("span",{class:"w-2 h-2 mr-1 bg-green-500 rounded-full"},null,-1);function Ge(s,a){return t(),c("span",Me,[Ce,A(s.$slots,"default")])}const Se=z(Ve,[["render",Ge]]),Te={class:"w-full text-sm text-left"},Be={class:"text-xs text-gray-500 uppercase bg-[#F9FAFB]"},je={scope:"col",class:"px-6 py-3"},ze={scope:"col",class:"px-6 py-3"},De={scope:"col",class:""},Fe={scope:"col",class:"px-6 py-3 sr-only"},Ne={key:0},Ee={colspan:"4",class:"px-6 py-4 text-sm text-gray-400"},Ie=["onMouseover"],Le={scope:"row",class:"px-3 py-4 font-medium text-gray-900 rounded-lg whitespace-nowrap flex gap-5 items-center !min-w-[300px]"},Pe=["src"],Ue={key:1},qe={class:"px-6 py-4"},Re={class:"flex gap-2 flex-wrap"},He=["href"],Ke=["data-tooltip-target"],Oe=["id"],Je={class:"max-w-xs flex flex-wrap break-words"},Qe=e("div",{class:"tooltip-arrow","data-popper-arrow":""},null,-1),We={class:"px-6 py-4 flex justify-end"},Xe={__name:"PaymentGatewayTable",setup(s){const{paymentGateways:a}=x(V()),{updateDefaultStatus:i,getGatewayAccounts:m}=v(),{gatewayAccounts:r}=x(v()),d=C(!1),g=(o,u)=>a.value.find(h=>h.id==o.gateway_id)[u],M=async(o,u)=>{await i(o,u),m()};return(o,u)=>(t(),c("table",Te,[e("thead",Be,[e("tr",null,[e("th",je,n(o.$t("payment_method")),1),e("th",ze,n(o.$t("features")),1),e("th",De,n(o.$t("currency")),1),e("th",Fe,n(o.$t("actions")),1)])]),e("tbody",null,[_(r).length===0?(t(),c("tr",Ne,[e("td",Ee,n(o.$t("not_active_comp")),1)])):(t(!0),c(G,{key:1},S(_(r),(l,h)=>(t(),c("tr",{key:h,class:"bg-white border border-gray-100",onMouseleave:u[0]||(u[0]=w=>d.value=!1),onMouseover:w=>d.value=h},[e("th",Le,[e("img",{class:"w-[50px]",src:g(l,"logo")},null,8,Pe),y(" "+n(g(l,"title"))+" ",1),l.is_default?(t(),b(Se,{key:0},{default:f(()=>[y(" Varsayılan ")]),_:1})):$("",!0),d.value===h&&!l.is_default?(t(),c("div",Ue,[p(T,{class:"!inline-flex !items-center !bg-blue-700 !text-white !text-xs !font-medium !mr-2 !px-2.5 !py-0.5 !rounded-full",onClick:w=>M(l.id,!0)},{default:f(()=>[y(" Varsayılan yap ")]),_:2},1032,["onClick"])])):$("",!0)]),e("td",qe,[e("div",Re,[(t(!0),c(G,null,S(g(l,"supports").slice(0,5),(w,D)=>(t(),c("span",{key:D,class:"bg-blue-100 text-blue-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded"},n(o.$t(w)),1))),128)),e("a",{href:l.settings_url,class:"bg-gray-100 text-gray-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded underline"},"Tüm Özellikler",8,He)])]),e("td",null,[e("button",{"data-tooltip-target":`currency-${l.id}`,"data-tooltip-placement":"bottom",type:"button"},[p(_(q),{class:"w-5 h-5 text-green-600"})],8,Ke),e("div",{id:`currency-${l.id}`,role:"tooltip",class:"absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip"},[e("div",Je,n(g(l,"currencies").join(", ")),1),Qe],8,Oe)]),e("td",We,[p(T,{href:l.settings_url},{default:f(()=>[p(_(R),{class:"w-4 h-4"})]),_:2},1032,["href"])])],40,Ie))),128))])]))}},Ye={class:"flex gap-2 items-center"},Ze={class:"relative inline-flex items-center cursor-pointer"},et=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},null,-1),tt={class:"ml-3 text-sm font-medium text-gray-900"},st={__name:"Toggle",props:["modelValue"],emits:["update:modelValue"],setup(s,{emit:a}){const i=s,m=H({get(){return i.modelValue},set(r){a("update:modelValue",r)}});return(r,d)=>(t(),c("div",Ye,[e("label",Ze,[j(e("input",{"onUpdate:modelValue":d[0]||(d[0]=g=>m.value=g),type:"checkbox",class:"sr-only peer"},null,512),[[K,m.value]]),et,e("span",tt,[A(r.$slots,"default")])])]))}},at={"data-tooltip-target":"tooltip-bottom","data-tooltip-placement":"bottom"},ot={id:"tooltip-bottom",role:"tooltip",class:"absolute z-10 invisible inline-block px-3 py-2 text-sm text-white bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip w-60"},nt=e("div",{class:"tooltip-arrow","data-popper-arrow":""},null,-1),lt={__name:"Tooltip",setup(s){return(a,i)=>(t(),c("div",null,[e("button",at,[p(_(O),{class:"w-4 h-4"})]),e("div",ot,[A(a.$slots,"default"),nt])]))}},rt={class:"flex gap-2 items-center"},dt={__name:"TestMode",setup(s){const a=V(),{isTestMode:i}=x(a);return(m,r)=>(t(),c("div",rt,[p(st,{modelValue:_(i),"onUpdate:modelValue":r[0]||(r[0]=d=>J(i)?i.value=d:null),onChange:_(a).updateTestMode},{default:f(()=>[y(n(m.$t("test_mode")),1)]),_:1},8,["modelValue","onChange"]),p(lt,{class:"mt-1"},{default:f(()=>[y(n(m.$t("test_mode_content")),1)]),_:1})]))}},ct={class:"w-full flex justify-between items-center border mb-2 border-gray-100 rounded-lg p-5"},it=e("div",{id:"sticky-banner",tabindex:"-1",class:"fixed bottom-10 right-10"},null,-1),ut={__name:"App",setup(s){const a=V(),{isTestMode:i}=x(a),m=v(),{gatewayAccounts:r}=x(m);return(d,g)=>(t(),b(X,null,{default:f(()=>[_(i)?(t(),b(ee,{key:0},{content:f(()=>[y(n(d.$t("test_mode_content")),1)]),default:f(()=>[y(n(d.$t("test_mode_title")),1)]),_:1})):$("",!0),_(r).length===0?(t(),b(te,{key:1},{content:f(()=>[y(n(d.$t("empty_gateway_content")),1)]),default:f(()=>[y(n(d.$t("empty_gateway_title")),1)]),_:1})):$("",!0),e("div",ct,[p(dt),p(Ae)]),p(Xe),it]),_:1}))}},pt=Q({locale:"default",messages:window.gpos.strings}),B=W(ut);B.use(Y);B.use(pt);B.mount("#app");

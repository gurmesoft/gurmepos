import{o,c as l,r as A,u as i,g as c,E as z,f as p,z as w,i as F,s as $,p as M,e as _,t as s,G as I,a as e,H as T,I as V,w as L,m as N,F as S,l as B,n as E,d as x,J as q,K as H,L as J,M as K,B as R,C as U}from"../vendor/main.js";import{a as k,p as O}from"../ajax/main.js";import{u as j,_ as Q}from"../Page/main.js";import{_ as W}from"../_plugin-vue_export-helper/main.js";import{_ as C}from"../PrimaryButton/main.js";import{S as X}from"../SetDefaultBadge/main.js";import{_ as Y,a as Z}from"../Warning/main.js";/* empty css              */const ee={},te={type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm p-2 text-center inline-flex items-center mr-2"};function se(d,n){return o(),l("button",te,[A(d.$slots,"default")])}const ae=W(ee,[["render",se]]),oe={key:0,class:"bg-purple-100 text-purple-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded-lg flex gap-1 items-center h-6 max-h-max"},ne={__name:"ProBadge",setup(d){const n=window.gpos.is_pro_active;return(h,b)=>i(n)?w("",!0):(o(),l("span",oe,[c(i(z),{class:"w-3 h-3"}),p("Pro")]))}},v=F("GatewayAccounts",{state:()=>({gatewayAccounts:window.gpos.gateway_accounts||[]}),actions:{async addGatewayAccount(d){return await k.post("add_gateway_account",{gateway:d})},async getGatewayAccounts(){const d=await k.get("get_gateway_accounts");this.gatewayAccounts=d},updateActiveStatus(d,n){k.post("update_active_status",{id:d,status:n})},async updateDefaultStatus(d,n){return await k.post("update_default_status",{id:d,default:n})}}}),re={id:"add-payment-gateway",tabindex:"-1","aria-hidden":"true",class:"fixed top-0 left-0 right-0 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] md:h-full"},le={class:"relative w-full h-full max-w-md md:h-auto"},de={class:"relative bg-white rounded-lg shadow"},ie={class:"flex items-start justify-between p-1"},ce={id:"add-payment-gateway-close",type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center","data-modal-hide":"add-payment-gateway"},ue={class:"py-6 pl-6 pr-3 space-y-3"},pe={class:"text-xl font-semibold flex items-center"},_e={class:"ml-2 bg-purple-100 text-purple-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded border border-purple-400"},me={class:"relative w-full"},fe={class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},ye={class:"pr-4"},he=["placeholder"],ge={class:"payment-gateway-modal mt-2 space-y-5 overflow-y-auto h-60 max-h-min"},we=["onMouseover"],be={class:"flex gap-2 items-center py-2"},xe=["src"],$e={class:"text-sm font-normal text-gray-500"},ve={key:1},ke={class:"px-6 pt-3 pb-6 text-sm font-medium text-gray-500"},Ae={href:"https://posentegrator.com/bize-ulasin/",target:"_blank",class:"text-blue-600"},Ge={__name:"AddPaymentGatewayModal",setup(d){const{paymentGateways:n}=j(),{addGatewayAccount:h}=v(),{gatewayAccounts:b}=$(v()),f=M(!1),u=M(""),y=()=>n.filter(t=>t.title.toLowerCase().includes(u.value.toLowerCase())&&!b.value.find(r=>t.id===r.gateway_id)),G=async t=>{document.getElementById("add-payment-gateway-close").click();const r=await h(t);window.location.href=r.settings_url};return(t,r)=>(o(),l("div",null,[c(C,{"data-modal-target":"add-payment-gateway","data-modal-toggle":"add-payment-gateway"},{default:_(()=>[p(s(t.$t("add_payment_comp"))+" ",1),c(i(I),{class:"w-4 h-4 ml-2"})]),_:1}),e("div",re,[e("div",le,[e("div",de,[e("div",ie,[e("button",ce,[c(i(T),{class:"w-5 h-5"})])]),e("div",ue,[e("p",pe,[p(s(t.$t("add_payment_comp"))+" ",1),e("span",_e,s(i(n).length)+" "+s(t.$t("establishment")),1)]),e("div",me,[e("div",fe,[c(i(V),{class:"w-4 h-4 text-blue-600"})]),e("div",ye,[L(e("input",{"onUpdate:modelValue":r[0]||(r[0]=a=>u.value=a),type:"text",class:"!bg-gray-50 border !border-gray-300 !text-gray-900 !text-sm !rounded-lg !focus:ring-blue-500 !focus:border-blue-500 !block !w-full !pl-10 !p-3 mb-6",placeholder:t.$t("search_payment_gateway"),required:""},null,8,he),[[N,u.value]])])]),e("div",ge,[(o(!0),l(S,null,B(y(),(a,m)=>(o(),l("div",{key:m,class:E(`border rounded-lg flex justify-between items-center ${a.is_need_pro?"bg-gray-100 p-4":"p-3"}`),onMouseleave:r[1]||(r[1]=g=>f.value=!1),onMouseover:g=>f.value=m},[e("div",be,[e("img",{class:"w-[50px] object-contain",src:a.logo},null,8,xe),e("span",$e,s(a.title),1)]),a.is_need_pro?(o(),x(ne,{key:0})):(o(),l("div",ve,[f.value===m?(o(),x(ae,{key:0,onClick:g=>G(a.id)},{default:_(()=>[c(i(q),{class:"w-5 h-5 font-bold"})]),_:2},1032,["onClick"])):w("",!0)]))],42,we))),128))])]),e("p",ke,[p(s(t.$t("find_comp"))+" ",1),e("a",Ae,s(t.$t("contact_us")),1)])])])])]))}},Me={class:"w-full text-sm text-left bg-white shadow-md"},Se={class:"text-xs text-gray-500 uppercase bg-[#F9FAFB]"},Be={scope:"col",class:"px-6 py-3"},Ce={scope:"col",class:"px-6 py-3"},je={scope:"col",class:""},De={scope:"col",class:"px-6 py-3 sr-only"},Pe={key:0},ze={colspan:"4",class:"px-6 py-4 text-sm text-gray-400"},Fe=["onMouseover"],Ie={scope:"row",class:"px-3 py-4 font-medium text-gray-900 rounded-lg whitespace-nowrap flex gap-5 items-center !min-w-[300px]"},Te=["src"],Ve={key:1},Le={class:"px-6 py-4"},Ne={class:"flex gap-2 flex-wrap"},Ee=["href"],qe=["data-tooltip-target"],He=["id"],Je={class:"max-w-xs flex flex-wrap break-words"},Ke=e("div",{class:"tooltip-arrow","data-popper-arrow":""},null,-1),Re={class:"px-6 py-4 flex justify-end"},Ue={__name:"PaymentGatewayTable",setup(d){const{paymentGateways:n}=$(j()),{updateDefaultStatus:h,getGatewayAccounts:b}=v(),{gatewayAccounts:f}=$(v()),u=M(!1),y=(t,r)=>n.value.find(m=>m.id==t.gateway_id)[r],G=async(t,r)=>{await h(t,r),b()};return(t,r)=>(o(),l("table",Me,[e("thead",Se,[e("tr",null,[e("th",Be,s(t.$t("payment_method")),1),e("th",Ce,s(t.$t("features")),1),e("th",je,s(t.$t("currency")),1),e("th",De,s(t.$t("actions")),1)])]),e("tbody",null,[i(f).length===0?(o(),l("tr",Pe,[e("td",ze,s(t.$t("not_active_comp")),1)])):(o(!0),l(S,{key:1},B(i(f),(a,m)=>(o(),l("tr",{key:m,class:"bg-white border border-gray-100",onMouseleave:r[0]||(r[0]=g=>u.value=!1),onMouseover:g=>u.value=m},[e("th",Ie,[e("img",{class:"w-[50px] max-h-[30px]",src:y(a,"logo")},null,8,Te),p(" "+s(y(a,"title"))+" ",1),a.is_default?(o(),x(X,{key:0},{default:_(()=>[p(s(t.$t("default")),1)]),_:1})):w("",!0),u.value===m&&!a.is_default?(o(),l("div",Ve,[c(C,{class:"!inline-flex !items-center !bg-blue-700 !text-white !text-xs !font-medium !mr-2 !px-2.5 !py-0.5 !rounded-full",onClick:g=>G(a.id,!0)},{default:_(()=>[p(s(t.$t("make_default")),1)]),_:2},1032,["onClick"])])):w("",!0)]),e("td",Le,[e("div",Ne,[(o(!0),l(S,null,B(y(a,"supports").slice(0,5),(g,P)=>(o(),l("span",{key:P,class:"bg-blue-100 text-blue-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded"},s(t.$t(g)),1))),128)),y(a,"supports").length>5?(o(),l("a",{key:0,href:a.settings_url,class:"bg-gray-100 text-gray-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded underline"},s(t.$t("all_features")),9,Ee)):w("",!0)])]),e("td",null,[e("button",{"data-tooltip-target":`currency-${a.id}`,"data-tooltip-placement":"bottom",type:"button"},[c(i(H),{class:"w-5 h-5 text-green-600"})],8,qe),e("div",{id:`currency-${a.id}`,role:"tooltip",class:"absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip"},[e("div",Je,s(y(a,"currencies").join(", ")),1),Ke],8,He)]),e("td",Re,[c(C,{href:a.settings_url},{default:_(()=>[c(i(J),{class:"w-4 h-4"})]),_:2},1032,["href"])])],40,Fe))),128))])]))}},Oe={class:"p-4 mb-4 text-blue-600 border border-blue-200 rounded-lg bg-blue-50 w-full",role:"alert"},Qe={class:"flex items-center"},We={class:"text-blue-600 text-md font-medium"},Xe={class:"text-blue-600 mt-2 mb-4 text-sm"},Ye={__name:"Info",setup(d){return(n,h)=>(o(),l("div",Oe,[e("div",Qe,[c(i(K),{class:"w-4 h-4 mr-2"}),e("span",We,[A(n.$slots,"default")])]),e("div",Xe,[A(n.$slots,"content")]),A(n.$slots,"button")]))}},Ze={class:"w-full flex justify-between items-center border mb-4 border-gray-100 rounded-lg p-5 bg-white shadow-md"},et=e("div",{id:"sticky-banner",tabindex:"-1",class:"fixed bottom-10 right-10"},null,-1),tt={__name:"App",setup(d){const n=j(),{isTestMode:h}=$(n),b=v(),{gatewayAccounts:f}=$(b);return(u,y)=>(o(),x(Q,{text:u.$t("payment_methods"),href:"https://yardim.gurmehub.com/docs/pos-entegrator/odeme-yontemleri/?utm_source=wp_plugin&utm_medium=referal&utm_campaign=footer"},{default:_(()=>[i(h)?(o(),x(Y,{key:0,class:"p-4 mb-4"},{content:_(()=>[p(s(u.$t("test_mode_content")),1)]),default:_(()=>[p(s(u.$t("test_mode_title")),1)]),_:1})):w("",!0),i(f).length===0?(o(),x(Ye,{key:1},{content:_(()=>[p(s(u.$t("empty_gateway_content")),1)]),default:_(()=>[p(s(u.$t("empty_gateway_title")),1)]),_:1})):w("",!0),e("div",Ze,[c(Z),c(Ge)]),c(Ue),et]),_:1},8,["text"]))}},st=R({locale:"default",messages:window.gpos.strings,legacy:!1}),D=U(tt);D.use(O);D.use(st);D.mount("#app");

import{o as a,a as p,r as B,d as E,s as $,q as V,g as _,f as y,h as g,t as o,u as m,x as F,b as e,y as P,z as I,w as j,i as N,F as C,A as S,n as L,e as x,B as O,j as v,C as U,D as q,c as R,E as H,G as K,H as Q,l as J,m as W}from"../vendor/main.js";import{a as A,u as M,_ as X,p as Y}from"../tailwind/main.js";import{_ as Z}from"../ProBadge/main.js";import{_ as G}from"../PrimaryButton/main.js";import{_ as ee,a as te,b as se}from"../Info/main.js";const D=(n,r)=>{const i=n.__vccOpts||n;for(const[f,c]of r)i[f]=c;return i},ae={},oe={type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm p-2 text-center inline-flex items-center mr-2"};function ne(n,r){return a(),p("button",oe,[B(n.$slots,"default")])}const le=D(ae,[["render",ne]]),k=E("GatewayAccounts",{state:()=>({gatewayAccounts:window.gpos.gateway_accounts||[]}),actions:{async addGatewayAccount(n){return await A.post("add_gateway_account",{gateway:n})},async getGatewayAccounts(){const n=await A.get("get_gateway_accounts");this.gatewayAccounts=n},updateActiveStatus(n,r){A.post("update_active_status",{id:n,status:r})},async updateDefaultStatus(n,r){return await A.post("update_default_status",{id:n,default:r})}}}),re={id:"add-payment-gateway",tabindex:"-1","aria-hidden":"true",class:"fixed top-0 left-0 right-0 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] md:h-full"},de={class:"relative w-full h-full max-w-md md:h-auto"},ce={class:"relative bg-white rounded-lg shadow"},ie={class:"flex items-start justify-between p-1"},ue={id:"add-payment-gateway-close",type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center","data-modal-hide":"add-payment-gateway"},pe={class:"py-6 pl-6 pr-3 space-y-3"},_e={class:"text-xl font-semibold flex items-center"},me={class:"ml-2 bg-purple-100 text-purple-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded border border-purple-400"},fe={class:"relative w-full"},ye={class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},ge={class:"pr-4"},he={class:"payment-gateway-modal mt-2 space-y-5 overflow-y-auto h-60 max-h-min"},we=["onMouseover"],be={class:"flex gap-2 items-center py-2"},xe=["src"],$e={class:"text-sm font-normal text-gray-500"},ve={key:1},ke={class:"px-6 pt-3 pb-6 text-sm font-medium text-gray-500"},Ae={href:"https://posentegrator.com/bize-ulasin/",target:"_blank",class:"text-blue-600"},Me={__name:"AddPaymentGatewayModal",setup(n){const{paymentGateways:r}=M(),{addGatewayAccount:i}=k(),{gatewayAccounts:f}=$(k()),c=V(!1),t=V(""),d=()=>r.filter(s=>s.title.toLowerCase().includes(t.value.toLowerCase())&&!f.value.find(u=>s.id===u.gateway_id)),b=async s=>{document.getElementById("add-payment-gateway-close").click();const u=await i(s);window.location.href=u.settings_url};return(s,u)=>(a(),p("div",null,[_(G,{"data-modal-target":"add-payment-gateway","data-modal-toggle":"add-payment-gateway"},{default:y(()=>[g(o(s.$t("add_payment_comp"))+" ",1),_(m(F),{class:"w-4 h-4 ml-2"})]),_:1}),e("div",re,[e("div",de,[e("div",ce,[e("div",ie,[e("button",ue,[_(m(P),{class:"w-5 h-5"})])]),e("div",pe,[e("p",_e,[g(o(s.$t("add_payment_comp"))+" ",1),e("span",me,o(m(r).length)+" "+o(s.$t("establishment")),1)]),e("div",fe,[e("div",ye,[_(m(I),{class:"w-4 h-4 text-blue-600"})]),e("div",ge,[j(e("input",{"onUpdate:modelValue":u[0]||(u[0]=l=>t.value=l),type:"text",class:"!bg-gray-50 border !border-gray-300 !text-gray-900 !text-sm !rounded-lg !focus:ring-blue-500 !focus:border-blue-500 !block !w-full !pl-10 !p-3 mb-6",placeholder:"Ödeme Kuruluşu Ara",required:""},null,512),[[N,t.value]])])]),e("div",he,[(a(!0),p(C,null,S(d(),(l,h)=>(a(),p("div",{key:h,class:L(`border rounded-lg flex justify-between items-center ${l.is_need_pro?"bg-gray-100 p-4":"p-3"}`),onMouseleave:u[1]||(u[1]=w=>c.value=!1),onMouseover:w=>c.value=h},[e("div",be,[e("img",{class:"w-[50px] object-contain",src:l.logo},null,8,xe),e("span",$e,o(l.title),1)]),l.is_need_pro?(a(),x(Z,{key:0})):(a(),p("div",ve,[c.value===h?(a(),x(le,{key:0,onClick:w=>b(l.id)},{default:y(()=>[_(m(O),{class:"w-5 h-5 font-bold"})]),_:2},1032,["onClick"])):v("",!0)]))],42,we))),128))])]),e("p",ke,[g(o(s.$t("find_comp"))+" ",1),e("a",Ae,o(s.$t("contact_us")),1)])])])])]))}},Ve={},Ce={class:"inline-flex items-center bg-green-100 text-green-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full"},Se=e("span",{class:"w-2 h-2 mr-1 bg-green-500 rounded-full"},null,-1);function Ge(n,r){return a(),p("span",Ce,[Se,B(n.$slots,"default")])}const Be=D(Ve,[["render",Ge]]),Te={class:"w-full text-sm text-left bg-white shadow-md"},je={class:"text-xs text-gray-500 uppercase bg-[#F9FAFB]"},De={scope:"col",class:"px-6 py-3"},ze={scope:"col",class:"px-6 py-3"},Ee={scope:"col",class:""},Fe={scope:"col",class:"px-6 py-3 sr-only"},Pe={key:0},Ie={colspan:"4",class:"px-6 py-4 text-sm text-gray-400"},Ne=["onMouseover"],Le={scope:"row",class:"px-3 py-4 font-medium text-gray-900 rounded-lg whitespace-nowrap flex gap-5 items-center !min-w-[300px]"},Oe=["src"],Ue={key:1},qe={class:"px-6 py-4"},Re={class:"flex gap-2 flex-wrap"},He=["href"],Ke=["data-tooltip-target"],Qe=["id"],Je={class:"max-w-xs flex flex-wrap break-words"},We=e("div",{class:"tooltip-arrow","data-popper-arrow":""},null,-1),Xe={class:"px-6 py-4 flex justify-end"},Ye={__name:"PaymentGatewayTable",setup(n){const{paymentGateways:r}=$(M()),{updateDefaultStatus:i,getGatewayAccounts:f}=k(),{gatewayAccounts:c}=$(k()),t=V(!1),d=(s,u)=>r.value.find(h=>h.id==s.gateway_id)[u],b=async(s,u)=>{await i(s,u),f()};return(s,u)=>(a(),p("table",Te,[e("thead",je,[e("tr",null,[e("th",De,o(s.$t("payment_method")),1),e("th",ze,o(s.$t("features")),1),e("th",Ee,o(s.$t("currency")),1),e("th",Fe,o(s.$t("actions")),1)])]),e("tbody",null,[m(c).length===0?(a(),p("tr",Pe,[e("td",Ie,o(s.$t("not_active_comp")),1)])):(a(!0),p(C,{key:1},S(m(c),(l,h)=>(a(),p("tr",{key:h,class:"bg-white border border-gray-100",onMouseleave:u[0]||(u[0]=w=>t.value=!1),onMouseover:w=>t.value=h},[e("th",Le,[e("img",{class:"w-[50px]",src:d(l,"logo")},null,8,Oe),g(" "+o(d(l,"title"))+" ",1),l.is_default?(a(),x(Be,{key:0},{default:y(()=>[g(" Varsayılan ")]),_:1})):v("",!0),t.value===h&&!l.is_default?(a(),p("div",Ue,[_(G,{class:"!inline-flex !items-center !bg-blue-700 !text-white !text-xs !font-medium !mr-2 !px-2.5 !py-0.5 !rounded-full",onClick:w=>b(l.id,!0)},{default:y(()=>[g(" Varsayılan yap ")]),_:2},1032,["onClick"])])):v("",!0)]),e("td",qe,[e("div",Re,[(a(!0),p(C,null,S(d(l,"supports").slice(0,5),(w,z)=>(a(),p("span",{key:z,class:"bg-blue-100 text-blue-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded"},o(s.$t(w)),1))),128)),e("a",{href:l.settings_url,class:"bg-gray-100 text-gray-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded underline"},"Tüm Özellikler",8,He)])]),e("td",null,[e("button",{"data-tooltip-target":`currency-${l.id}`,"data-tooltip-placement":"bottom",type:"button"},[_(m(U),{class:"w-5 h-5 text-green-600"})],8,Ke),e("div",{id:`currency-${l.id}`,role:"tooltip",class:"absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip"},[e("div",Je,o(d(l,"currencies").join(", ")),1),We],8,Qe)]),e("td",Xe,[_(G,{href:l.settings_url},{default:y(()=>[_(m(q),{class:"w-4 h-4"})]),_:2},1032,["href"])])],40,Ne))),128))])]))}},Ze={class:"flex gap-2 items-center"},et={class:"relative inline-flex items-center cursor-pointer"},tt=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},null,-1),st={class:"ml-3 text-sm font-medium text-gray-900"},at={__name:"Toggle",props:["modelValue"],emits:["update:modelValue"],setup(n,{emit:r}){const i=n,f=R({get(){return i.modelValue},set(c){r("update:modelValue",c)}});return(c,t)=>(a(),p("div",Ze,[e("label",et,[j(e("input",{"onUpdate:modelValue":t[0]||(t[0]=d=>f.value=d),type:"checkbox",class:"sr-only peer"},null,512),[[H,f.value]]),tt,e("span",st,[B(c.$slots,"default")])])]))}},ot={class:"flex gap-2 items-center"},nt={__name:"TestMode",setup(n){const r=M(),{isTestMode:i}=$(r),{t:f}=K(),c=async t=>{await r.updateTestMode(t);const d=jQuery("#wp-admin-bar-gurmepos");t?(d.addClass("gpos-test-mode-active"),d.children("a").children("span.ab-label").html(`POS Entegratör ${f("test_mode")}`)):(d.removeClass("gpos-test-mode-active"),d.children("a").children("span.ab-label").html("POS Entegratör"))};return(t,d)=>(a(),p("div",ot,[_(at,{modelValue:m(i),"onUpdate:modelValue":d[0]||(d[0]=b=>Q(i)?i.value=b:null),onChange:d[1]||(d[1]=b=>c(m(i)))},{default:y(()=>[g(o(t.$t("test_mode")),1)]),_:1},8,["modelValue"]),_(ee,{class:"mt-1"},{default:y(()=>[g(o(t.$t("test_mode_content")),1)]),_:1})]))}},lt={class:"w-full flex justify-between items-center border mb-4 border-gray-100 rounded-lg p-5 bg-white shadow-md"},rt=e("div",{id:"sticky-banner",tabindex:"-1",class:"fixed bottom-10 right-10"},null,-1),dt={__name:"App",setup(n){const r=M(),{isTestMode:i}=$(r),f=k(),{gatewayAccounts:c}=$(f);return(t,d)=>(a(),x(X,{text:"Ödeme yöntemleri",href:"https://yardim.gurmehub.com/docs/pos-entegrator/odeme-yontemleri/"},{default:y(()=>[m(i)?(a(),x(te,{key:0},{content:y(()=>[g(o(t.$t("test_mode_content")),1)]),default:y(()=>[g(o(t.$t("test_mode_title")),1)]),_:1})):v("",!0),m(c).length===0?(a(),x(se,{key:1},{content:y(()=>[g(o(t.$t("empty_gateway_content")),1)]),default:y(()=>[g(o(t.$t("empty_gateway_title")),1)]),_:1})):v("",!0),e("div",lt,[_(nt),_(Me)]),_(Ye),rt]),_:1}))}},ct=J({locale:"default",messages:window.gpos.strings,legacy:!1}),T=W(dt);T.use(Y);T.use(ct);T.mount("#app");

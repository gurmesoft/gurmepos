import{o as t,a as c,g as u,u as _,q as z,h as f,r as G,d as E,s as $,x as V,f as y,t as o,y as F,b as e,z as I,A as N,w as j,i as L,F as C,B as S,n as U,e as x,C as q,j as v,D as O,E as R,c as H,G as K,H as Q,I as J,l as W,m as X}from"../vendor/main.js";import{a as A,u as M,_ as Y,p as Z}from"../tailwind/main.js";import{_ as D}from"../_plugin-vue_export-helper/main.js";import{_ as B}from"../PrimaryButton/main.js";import{_ as ee,a as te,b as se}from"../Info/main.js";const ae={class:"bg-purple-100 text-purple-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded-lg flex gap-1 items-center h-6 max-h-max"},oe={__name:"ProBadge",setup(r){return(d,m)=>(t(),c("span",ae,[u(_(z),{class:"w-3 h-3"}),f("Pro")]))}},ne={},le={type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm p-2 text-center inline-flex items-center mr-2"};function re(r,d){return t(),c("button",le,[G(r.$slots,"default")])}const de=D(ne,[["render",re]]),k=E("GatewayAccounts",{state:()=>({gatewayAccounts:window.gpos.gateway_accounts||[]}),actions:{async addGatewayAccount(r){return await A.post("add_gateway_account",{gateway:r})},async getGatewayAccounts(){const r=await A.get("get_gateway_accounts");this.gatewayAccounts=r},updateActiveStatus(r,d){A.post("update_active_status",{id:r,status:d})},async updateDefaultStatus(r,d){return await A.post("update_default_status",{id:r,default:d})}}}),ce={id:"add-payment-gateway",tabindex:"-1","aria-hidden":"true",class:"fixed top-0 left-0 right-0 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] md:h-full"},ie={class:"relative w-full h-full max-w-md md:h-auto"},ue={class:"relative bg-white rounded-lg shadow"},pe={class:"flex items-start justify-between p-1"},_e={id:"add-payment-gateway-close",type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center","data-modal-hide":"add-payment-gateway"},me={class:"py-6 pl-6 pr-3 space-y-3"},fe={class:"text-xl font-semibold flex items-center"},ye={class:"ml-2 bg-purple-100 text-purple-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded border border-purple-400"},ge={class:"relative w-full"},he={class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},we={class:"pr-4"},be={class:"payment-gateway-modal mt-2 space-y-5 overflow-y-auto h-60 max-h-min"},xe=["onMouseover"],$e={class:"flex gap-2 items-center py-2"},ve=["src"],ke={class:"text-sm font-normal text-gray-500"},Ae={key:1},Me={class:"px-6 pt-3 pb-6 text-sm font-medium text-gray-500"},Ve={href:"https://posentegrator.com/bize-ulasin/",target:"_blank",class:"text-blue-600"},Ce={__name:"AddPaymentGatewayModal",setup(r){const{paymentGateways:d}=M(),{addGatewayAccount:m}=k(),{gatewayAccounts:g}=$(k()),p=V(!1),s=V(""),l=()=>d.filter(a=>a.title.toLowerCase().includes(s.value.toLowerCase())&&!g.value.find(i=>a.id===i.gateway_id)),b=async a=>{document.getElementById("add-payment-gateway-close").click();const i=await m(a);window.location.href=i.settings_url};return(a,i)=>(t(),c("div",null,[u(B,{"data-modal-target":"add-payment-gateway","data-modal-toggle":"add-payment-gateway"},{default:y(()=>[f(o(a.$t("add_payment_comp"))+" ",1),u(_(F),{class:"w-4 h-4 ml-2"})]),_:1}),e("div",ce,[e("div",ie,[e("div",ue,[e("div",pe,[e("button",_e,[u(_(I),{class:"w-5 h-5"})])]),e("div",me,[e("p",fe,[f(o(a.$t("add_payment_comp"))+" ",1),e("span",ye,o(_(d).length)+" "+o(a.$t("establishment")),1)]),e("div",ge,[e("div",he,[u(_(N),{class:"w-4 h-4 text-blue-600"})]),e("div",we,[j(e("input",{"onUpdate:modelValue":i[0]||(i[0]=n=>s.value=n),type:"text",class:"!bg-gray-50 border !border-gray-300 !text-gray-900 !text-sm !rounded-lg !focus:ring-blue-500 !focus:border-blue-500 !block !w-full !pl-10 !p-3 mb-6",placeholder:"Ödeme Kuruluşu Ara",required:""},null,512),[[L,s.value]])])]),e("div",be,[(t(!0),c(C,null,S(l(),(n,h)=>(t(),c("div",{key:h,class:U(`border rounded-lg flex justify-between items-center ${n.is_need_pro?"bg-gray-100 p-4":"p-3"}`),onMouseleave:i[1]||(i[1]=w=>p.value=!1),onMouseover:w=>p.value=h},[e("div",$e,[e("img",{class:"w-[50px] object-contain",src:n.logo},null,8,ve),e("span",ke,o(n.title),1)]),n.is_need_pro?(t(),x(oe,{key:0})):(t(),c("div",Ae,[p.value===h?(t(),x(de,{key:0,onClick:w=>b(n.id)},{default:y(()=>[u(_(q),{class:"w-5 h-5 font-bold"})]),_:2},1032,["onClick"])):v("",!0)]))],42,xe))),128))])]),e("p",Me,[f(o(a.$t("find_comp"))+" ",1),e("a",Ve,o(a.$t("contact_us")),1)])])])])]))}},Se={},Be={class:"inline-flex items-center bg-green-100 text-green-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded-full"},Ge=e("span",{class:"w-2 h-2 mr-1 bg-green-500 rounded-full"},null,-1);function Te(r,d){return t(),c("span",Be,[Ge,G(r.$slots,"default")])}const je=D(Se,[["render",Te]]),De={class:"w-full text-sm text-left bg-white shadow-md"},Pe={class:"text-xs text-gray-500 uppercase bg-[#F9FAFB]"},ze={scope:"col",class:"px-6 py-3"},Ee={scope:"col",class:"px-6 py-3"},Fe={scope:"col",class:""},Ie={scope:"col",class:"px-6 py-3 sr-only"},Ne={key:0},Le={colspan:"4",class:"px-6 py-4 text-sm text-gray-400"},Ue=["onMouseover"],qe={scope:"row",class:"px-3 py-4 font-medium text-gray-900 rounded-lg whitespace-nowrap flex gap-5 items-center !min-w-[300px]"},Oe=["src"],Re={key:1},He={class:"px-6 py-4"},Ke={class:"flex gap-2 flex-wrap"},Qe=["href"],Je=["data-tooltip-target"],We=["id"],Xe={class:"max-w-xs flex flex-wrap break-words"},Ye=e("div",{class:"tooltip-arrow","data-popper-arrow":""},null,-1),Ze={class:"px-6 py-4 flex justify-end"},et={__name:"PaymentGatewayTable",setup(r){const{paymentGateways:d}=$(M()),{updateDefaultStatus:m,getGatewayAccounts:g}=k(),{gatewayAccounts:p}=$(k()),s=V(!1),l=(a,i)=>d.value.find(h=>h.id==a.gateway_id)[i],b=async(a,i)=>{await m(a,i),g()};return(a,i)=>(t(),c("table",De,[e("thead",Pe,[e("tr",null,[e("th",ze,o(a.$t("payment_method")),1),e("th",Ee,o(a.$t("features")),1),e("th",Fe,o(a.$t("currency")),1),e("th",Ie,o(a.$t("actions")),1)])]),e("tbody",null,[_(p).length===0?(t(),c("tr",Ne,[e("td",Le,o(a.$t("not_active_comp")),1)])):(t(!0),c(C,{key:1},S(_(p),(n,h)=>(t(),c("tr",{key:h,class:"bg-white border border-gray-100",onMouseleave:i[0]||(i[0]=w=>s.value=!1),onMouseover:w=>s.value=h},[e("th",qe,[e("img",{class:"w-[50px]",src:l(n,"logo")},null,8,Oe),f(" "+o(l(n,"title"))+" ",1),n.is_default?(t(),x(je,{key:0},{default:y(()=>[f(" Varsayılan ")]),_:1})):v("",!0),s.value===h&&!n.is_default?(t(),c("div",Re,[u(B,{class:"!inline-flex !items-center !bg-blue-700 !text-white !text-xs !font-medium !mr-2 !px-2.5 !py-0.5 !rounded-full",onClick:w=>b(n.id,!0)},{default:y(()=>[f(" Varsayılan yap ")]),_:2},1032,["onClick"])])):v("",!0)]),e("td",He,[e("div",Ke,[(t(!0),c(C,null,S(l(n,"supports").slice(0,5),(w,P)=>(t(),c("span",{key:P,class:"bg-blue-100 text-blue-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded"},o(a.$t(w)),1))),128)),e("a",{href:n.settings_url,class:"bg-gray-100 text-gray-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded underline"},"Tüm Özellikler",8,Qe)])]),e("td",null,[e("button",{"data-tooltip-target":`currency-${n.id}`,"data-tooltip-placement":"bottom",type:"button"},[u(_(O),{class:"w-5 h-5 text-green-600"})],8,Je),e("div",{id:`currency-${n.id}`,role:"tooltip",class:"absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip"},[e("div",Xe,o(l(n,"currencies").join(", ")),1),Ye],8,We)]),e("td",Ze,[u(B,{href:n.settings_url},{default:y(()=>[u(_(R),{class:"w-4 h-4"})]),_:2},1032,["href"])])],40,Ue))),128))])]))}},tt={class:"flex gap-2 items-center"},st={class:"relative inline-flex items-center cursor-pointer"},at=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},null,-1),ot={class:"ml-3 text-sm font-medium text-gray-900"},nt={__name:"Toggle",props:["modelValue"],emits:["update:modelValue"],setup(r,{emit:d}){const m=r,g=H({get(){return m.modelValue},set(p){d("update:modelValue",p)}});return(p,s)=>(t(),c("div",tt,[e("label",st,[j(e("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>g.value=l),type:"checkbox",class:"sr-only peer"},null,512),[[K,g.value]]),at,e("span",ot,[G(p.$slots,"default")])])]))}},lt={class:"flex gap-2 items-center"},rt={__name:"TestMode",setup(r){const d=M(),{isTestMode:m}=$(d),{t:g}=Q(),p=async s=>{await d.updateTestMode(s);const l=jQuery("#wp-admin-bar-gurmepos");s?(l.addClass("gpos-test-mode-active"),l.children("a").children("span.ab-label").html(`POS Entegratör ${g("test_mode")}`)):(l.removeClass("gpos-test-mode-active"),l.children("a").children("span.ab-label").html("POS Entegratör"))};return(s,l)=>(t(),c("div",lt,[u(nt,{modelValue:_(m),"onUpdate:modelValue":l[0]||(l[0]=b=>J(m)?m.value=b:null),onChange:l[1]||(l[1]=b=>p(_(m)))},{default:y(()=>[f(o(s.$t("test_mode")),1)]),_:1},8,["modelValue"]),u(ee,{class:"mt-1"},{default:y(()=>[f(o(s.$t("test_mode_content")),1)]),_:1})]))}},dt={class:"w-full flex justify-between items-center border mb-4 border-gray-100 rounded-lg p-5 bg-white shadow-md"},ct=e("div",{id:"sticky-banner",tabindex:"-1",class:"fixed bottom-10 right-10"},null,-1),it={__name:"App",setup(r){const d=M(),{isTestMode:m}=$(d),g=k(),{gatewayAccounts:p}=$(g);return(s,l)=>(t(),x(Y,{text:"Ödeme yöntemleri",href:"https://yardim.gurmehub.com/docs/pos-entegrator/odeme-yontemleri/"},{default:y(()=>[_(m)?(t(),x(te,{key:0},{content:y(()=>[f(o(s.$t("test_mode_content")),1)]),default:y(()=>[f(o(s.$t("test_mode_title")),1)]),_:1})):v("",!0),_(p).length===0?(t(),x(se,{key:1},{content:y(()=>[f(o(s.$t("empty_gateway_content")),1)]),default:y(()=>[f(o(s.$t("empty_gateway_title")),1)]),_:1})):v("",!0),e("div",dt,[u(rt),u(Ce)]),u(et),ct]),_:1}))}},ut=W({locale:"default",messages:window.gpos.strings,legacy:!1}),T=X(it);T.use(Z);T.use(ut);T.mount("#app");

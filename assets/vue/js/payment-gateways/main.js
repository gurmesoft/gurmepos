import{o,c as i,r as j,u,g as p,E as D,f,z as b,i as z,s as v,p as C,e as g,t as s,G as E,a as e,H as F,I,w as T,m as N,F as S,l as V,n as L,d as $,J as U,K as O,L as R,b as q,M as H,N as J,j as K,B as Q,C as W}from"../vendor/main.js";import{a as A,p as X}from"../tailwind/main.js";import{u as M,_ as Y}from"../Page/main.js";import{_ as Z}from"../_plugin-vue_export-helper/main.js";import{_ as B}from"../PrimaryButton/main.js";import{S as ee}from"../SetDefaultBadge/main.js";import{_ as te,a as se,b as ae}from"../Info/main.js";const oe={},ne={type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm p-2 text-center inline-flex items-center mr-2"};function re(d,l){return o(),i("button",ne,[j(d.$slots,"default")])}const le=Z(oe,[["render",re]]),de={key:0,class:"bg-purple-100 text-purple-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded-lg flex gap-1 items-center h-6 max-h-max"},ie={__name:"ProBadge",setup(d){const l=window.gpos.is_pro_active;return(m,y)=>u(l)?b("",!0):(o(),i("span",de,[p(u(D),{class:"w-3 h-3"}),f("Pro")]))}},k=z("GatewayAccounts",{state:()=>({gatewayAccounts:window.gpos.gateway_accounts||[]}),actions:{async addGatewayAccount(d){return await A.post("add_gateway_account",{gateway:d})},async getGatewayAccounts(){const d=await A.get("get_gateway_accounts");this.gatewayAccounts=d},updateActiveStatus(d,l){A.post("update_active_status",{id:d,status:l})},async updateDefaultStatus(d,l){return await A.post("update_default_status",{id:d,default:l})}}}),ce={id:"add-payment-gateway",tabindex:"-1","aria-hidden":"true",class:"fixed top-0 left-0 right-0 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] md:h-full"},ue={class:"relative w-full h-full max-w-md md:h-auto"},pe={class:"relative bg-white rounded-lg shadow"},_e={class:"flex items-start justify-between p-1"},me={id:"add-payment-gateway-close",type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center","data-modal-hide":"add-payment-gateway"},fe={class:"py-6 pl-6 pr-3 space-y-3"},ge={class:"text-xl font-semibold flex items-center"},ye={class:"ml-2 bg-purple-100 text-purple-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded border border-purple-400"},he={class:"relative w-full"},we={class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},be={class:"pr-4"},xe=["placeholder"],$e={class:"payment-gateway-modal mt-2 space-y-5 overflow-y-auto h-60 max-h-min"},ve=["onMouseover"],ke={class:"flex gap-2 items-center py-2"},Ae=["src"],Me={class:"text-sm font-normal text-gray-500"},Ce={key:1},Se={class:"px-6 pt-3 pb-6 text-sm font-medium text-gray-500"},Ve={href:"https://posentegrator.com/bize-ulasin/",target:"_blank",class:"text-blue-600"},Be={__name:"AddPaymentGatewayModal",setup(d){const{paymentGateways:l}=M(),{addGatewayAccount:m}=k(),{gatewayAccounts:y}=v(k()),_=C(!1),a=C(""),r=()=>l.filter(t=>t.title.toLowerCase().includes(a.value.toLowerCase())&&!y.value.find(c=>t.id===c.gateway_id)),x=async t=>{document.getElementById("add-payment-gateway-close").click();const c=await m(t);window.location.href=c.settings_url};return(t,c)=>(o(),i("div",null,[p(B,{"data-modal-target":"add-payment-gateway","data-modal-toggle":"add-payment-gateway"},{default:g(()=>[f(s(t.$t("add_payment_comp"))+" ",1),p(u(E),{class:"w-4 h-4 ml-2"})]),_:1}),e("div",ce,[e("div",ue,[e("div",pe,[e("div",_e,[e("button",me,[p(u(F),{class:"w-5 h-5"})])]),e("div",fe,[e("p",ge,[f(s(t.$t("add_payment_comp"))+" ",1),e("span",ye,s(u(l).length)+" "+s(t.$t("establishment")),1)]),e("div",he,[e("div",we,[p(u(I),{class:"w-4 h-4 text-blue-600"})]),e("div",be,[T(e("input",{"onUpdate:modelValue":c[0]||(c[0]=n=>a.value=n),type:"text",class:"!bg-gray-50 border !border-gray-300 !text-gray-900 !text-sm !rounded-lg !focus:ring-blue-500 !focus:border-blue-500 !block !w-full !pl-10 !p-3 mb-6",placeholder:t.$t("search_payment_gateway"),required:""},null,8,xe),[[N,a.value]])])]),e("div",$e,[(o(!0),i(S,null,V(r(),(n,h)=>(o(),i("div",{key:h,class:L(`border rounded-lg flex justify-between items-center ${n.is_need_pro?"bg-gray-100 p-4":"p-3"}`),onMouseleave:c[1]||(c[1]=w=>_.value=!1),onMouseover:w=>_.value=h},[e("div",ke,[e("img",{class:"w-[50px] object-contain",src:n.logo},null,8,Ae),e("span",Me,s(n.title),1)]),n.is_need_pro?(o(),$(ie,{key:0})):(o(),i("div",Ce,[_.value===h?(o(),$(le,{key:0,onClick:w=>x(n.id)},{default:g(()=>[p(u(U),{class:"w-5 h-5 font-bold"})]),_:2},1032,["onClick"])):b("",!0)]))],42,ve))),128))])]),e("p",Se,[f(s(t.$t("find_comp"))+" ",1),e("a",Ve,s(t.$t("contact_us")),1)])])])])]))}},Ge={class:"w-full text-sm text-left bg-white shadow-md"},je={class:"text-xs text-gray-500 uppercase bg-[#F9FAFB]"},Te={scope:"col",class:"px-6 py-3"},Pe={scope:"col",class:"px-6 py-3"},De={scope:"col",class:""},ze={scope:"col",class:"px-6 py-3 sr-only"},Ee={key:0},Fe={colspan:"4",class:"px-6 py-4 text-sm text-gray-400"},Ie=["onMouseover"],Ne={scope:"row",class:"px-3 py-4 font-medium text-gray-900 rounded-lg whitespace-nowrap flex gap-5 items-center !min-w-[300px]"},Le=["src"],Ue={key:1},Oe={class:"px-6 py-4"},Re={class:"flex gap-2 flex-wrap"},qe=["href"],He=["data-tooltip-target"],Je=["id"],Ke={class:"max-w-xs flex flex-wrap break-words"},Qe=e("div",{class:"tooltip-arrow","data-popper-arrow":""},null,-1),We={class:"px-6 py-4 flex justify-end"},Xe={__name:"PaymentGatewayTable",setup(d){const{paymentGateways:l}=v(M()),{updateDefaultStatus:m,getGatewayAccounts:y}=k(),{gatewayAccounts:_}=v(k()),a=C(!1),r=(t,c)=>l.value.find(h=>h.id==t.gateway_id)[c],x=async(t,c)=>{await m(t,c),y()};return(t,c)=>(o(),i("table",Ge,[e("thead",je,[e("tr",null,[e("th",Te,s(t.$t("payment_method")),1),e("th",Pe,s(t.$t("features")),1),e("th",De,s(t.$t("currency")),1),e("th",ze,s(t.$t("actions")),1)])]),e("tbody",null,[u(_).length===0?(o(),i("tr",Ee,[e("td",Fe,s(t.$t("not_active_comp")),1)])):(o(!0),i(S,{key:1},V(u(_),(n,h)=>(o(),i("tr",{key:h,class:"bg-white border border-gray-100",onMouseleave:c[0]||(c[0]=w=>a.value=!1),onMouseover:w=>a.value=h},[e("th",Ne,[e("img",{class:"w-[50px] max-h-[30px]",src:r(n,"logo")},null,8,Le),f(" "+s(r(n,"title"))+" ",1),n.is_default?(o(),$(ee,{key:0},{default:g(()=>[f(s(t.$t("default")),1)]),_:1})):b("",!0),a.value===h&&!n.is_default?(o(),i("div",Ue,[p(B,{class:"!inline-flex !items-center !bg-blue-700 !text-white !text-xs !font-medium !mr-2 !px-2.5 !py-0.5 !rounded-full",onClick:w=>x(n.id,!0)},{default:g(()=>[f(s(t.$t("make_default")),1)]),_:2},1032,["onClick"])])):b("",!0)]),e("td",Oe,[e("div",Re,[(o(!0),i(S,null,V(r(n,"supports").slice(0,5),(w,P)=>(o(),i("span",{key:P,class:"bg-blue-100 text-blue-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded"},s(t.$t(w)),1))),128)),r(n,"supports").length>5?(o(),i("a",{key:0,href:n.settings_url,class:"bg-gray-100 text-gray-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded underline"},s(t.$t("all_features")),9,qe)):b("",!0)])]),e("td",null,[e("button",{"data-tooltip-target":`currency-${n.id}`,"data-tooltip-placement":"bottom",type:"button"},[p(u(O),{class:"w-5 h-5 text-green-600"})],8,He),e("div",{id:`currency-${n.id}`,role:"tooltip",class:"absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip"},[e("div",Ke,s(r(n,"currencies").join(", ")),1),Qe],8,Je)]),e("td",We,[p(B,{href:n.settings_url},{default:g(()=>[p(u(R),{class:"w-4 h-4"})]),_:2},1032,["href"])])],40,Ie))),128))])]))}},Ye={class:"flex gap-2 items-center"},Ze={class:"relative inline-flex items-center cursor-pointer"},et=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},null,-1),tt={class:"ml-3 text-sm font-medium text-gray-900"},st={__name:"Toggle",props:["modelValue"],emits:["update:modelValue"],setup(d,{emit:l}){const m=d,y=q({get(){return m.modelValue},set(_){l("update:modelValue",_)}});return(_,a)=>(o(),i("div",Ye,[e("label",Ze,[T(e("input",{"onUpdate:modelValue":a[0]||(a[0]=r=>y.value=r),type:"checkbox",class:"sr-only peer"},null,512),[[H,y.value]]),et,e("span",tt,[j(_.$slots,"default")])])]))}},at={class:"flex gap-2 items-center"},ot={__name:"TestMode",setup(d){const l=M(),{isTestMode:m}=v(l),{t:y}=J(),_=async a=>{await l.updateTestMode(a);const r=jQuery("#wp-admin-bar-gurmepos");a?(r.addClass("gpos-test-mode-active"),r.children("a").children("span.ab-label").html(`POS Entegratör ${y("test_mode")}`)):(r.removeClass("gpos-test-mode-active"),r.children("a").children("span.ab-label").html("POS Entegratör"))};return(a,r)=>(o(),i("div",at,[p(st,{modelValue:u(m),"onUpdate:modelValue":r[0]||(r[0]=x=>K(m)?m.value=x:null),onChange:r[1]||(r[1]=x=>_(u(m)))},{default:g(()=>[f(s(a.$t("test_mode")),1)]),_:1},8,["modelValue"]),p(te,{class:"mt-1"},{default:g(()=>[f(s(a.$t("test_mode_content")),1)]),_:1})]))}},nt={class:"w-full flex justify-between items-center border mb-4 border-gray-100 rounded-lg p-5 bg-white shadow-md"},rt=e("div",{id:"sticky-banner",tabindex:"-1",class:"fixed bottom-10 right-10"},null,-1),lt={__name:"App",setup(d){const l=M(),{isTestMode:m}=v(l),y=k(),{gatewayAccounts:_}=v(y);return(a,r)=>(o(),$(Y,{text:a.$t("payment_methods"),href:"https://yardim.gurmehub.com/docs/pos-entegrator/odeme-yontemleri/?utm_source=wp_plugin&utm_medium=referal&utm_campaign=footer"},{default:g(()=>[u(m)?(o(),$(se,{key:0},{content:g(()=>[f(s(a.$t("test_mode_content")),1)]),default:g(()=>[f(s(a.$t("test_mode_title")),1)]),_:1})):b("",!0),u(_).length===0?(o(),$(ae,{key:1},{content:g(()=>[f(s(a.$t("empty_gateway_content")),1)]),default:g(()=>[f(s(a.$t("empty_gateway_title")),1)]),_:1})):b("",!0),e("div",nt,[p(ot),p(Be)]),p(Xe),rt]),_:1},8,["text"]))}},dt=Q({locale:"default",messages:window.gpos.strings,legacy:!1}),G=W(lt);G.use(X);G.use(dt);G.mount("#app");

import{j as C,S as g,o as d,c as l,a as s,u as t,d as f,e as m,f as u,t as a,n as x,g as y,C as h,s as b,F as $,p as k,J as S,K as B}from"../vendor/main-fb93ded3.js";import{a as w,p as j}from"../ajax/main-d5bd04c6.js";import{S as A}from"../SetDefaultBadge/main-dbbea84d.js";import{_ as D}from"../PrimaryButton/main-74272e44.js";import{u as F}from"../CheckoutStore/main-c7f9700a.js";/* empty css                       */import"../_plugin-vue_export-helper/main-c27b6911.js";const T=C("UserSavedCards",{state:()=>({isProActive:window.gpos.is_pro_active||!1,isTestMode:window.gpos.is_test_mode||!1,assetsUrl:window.gpos.asset_dir_url||"/",savedCards:window.gpos.saved_cards||[]}),actions:{async setDefault(e){await w.post("set_default_saved_card",{id:e}),this.swalFire()},async deleteCard(e){await w.post("delete_saved_card",{id:e}),this.swalFire()},swalFire(){g.fire({text:window.gpos.alert_texts.process_success,icon:"success",confirmButtonText:window.gpos.alert_texts.ok,confirmButtonColor:"#1A56DB"}).then(()=>window.location.reload())}}}),U={class:"w-full flex bg-[#fbfbfb] border rounded border-gray-200 px-3 py-4 items-center"},N={class:"w-2/12 flex justify-center"},V=["src","alt"],L={class:"w-2/12"},q={class:"w-3/12"},z={class:"w-2/12 text-end"},E={class:"w-1/12 text-end"},I={class:"w-2/12 flex justify-end items-center gap-1"},J={__name:"SavedCard",props:{savedCard:{required:!0,type:Object}},setup(e){const{assetsUrl:r,setDefault:c,deleteCard:_,savedCards:o}=T();return(n,i)=>(d(),l("div",U,[s("div",N,[s("img",{class:"w-9 h-9 object-contain rounded-md",src:`${t(r)}/images/card/${e.savedCard.card_family?e.savedCard.card_family.toLowerCase().replaceAll(/\s/g,""):"default"}.svg
          `,alt:e.savedCard.card_family},null,8,V)]),s("div",L,[e.savedCard.default?(d(),f(A,{key:0},{default:m(()=>[u(a(n.$t("default")),1)]),_:1})):(d(),f(D,{key:1,class:"!inline-flex !items-center !bg-blue-700 !text-white !text-xs !font-medium !mr-2 !px-2.5 !py-0.5 !rounded-full",onClick:i[0]||(i[0]=p=>t(c)(e.savedCard.id))},{default:m(()=>[u(a(n.$t("make_default")),1)]),_:1}))]),s("div",q,a(e.savedCard.card_name||n.$t("saved_card")),1),s("div",z,a(e.savedCard.masked_card_bin),1),s("div",E,a(e.savedCard.card_expiry_month)+"/"+a(e.savedCard.card_expiry_year.substr(-2)),1),s("div",I,[s("div",{class:x(`flex items-center justify-end gap-1 ${!e.savedCard.default||t(o).length===1?"text-red-600 cursor-pointer":"pointer-events-none text-gray-300"}`),onClick:i[1]||(i[1]=p=>t(_)(e.savedCard.id))},[y(t(h),{class:"w-6 h-6"}),u(" "+a(n.$t("delete")),1)],2)])]))}},K={key:0,class:"w-full flex flex-col gap-3"},M={key:1},O={class:"w-full flex p-4 bg-blue-200 text-blue-600 rounded"},P={__name:"App",setup(e){const{savedCards:r}=b(F());return(c,_)=>t(r).length>0?(d(),l("div",K,[(d(!0),l($,null,k(t(r),o=>(d(),f(J,{key:o.id,"saved-card":o},null,8,["saved-card"]))),128))])):(d(),l("div",M,[s("div",O,a(c.$t("saved_card_not_found")),1)]))}},R=S({locale:"default",messages:window.gpos.strings}),v=B(P);v.use(j);v.use(R);v.mount("#app");

import{o as i,a as _,b as t,t as s,n as $,h as f,u as c,g as u,P as y,F as p,B as m,T as v,U as w,z as k,j as g,d as C,L as j,e as h,f as F,l as B,m as S,V as T}from"../vendor/main.js";import{_ as L,p as N}from"../tailwind/main.js";const V={class:"p-5 bg-white rounded flex flex-col shadow-md"},q={class:"flex items-start justify-between text-gray-400 text-xs"},z={class:"flex items-center"},A={class:"text-2xl text-gray-900 font-semibold"},D={class:"text-sm pl-2"},U={class:"font-semibold"},J=["src"],M={class:"flex gap-2 text-gray-400 text-xs"},E=t("div",{class:"border border-[#F7F7F7] my-4"},null,-1),O={class:"flex gap-12"},Q={class:"flex flex-col gap-2 items-start justify-start"},I={class:"text-lg font-semibold text-gray-900"},P={class:"flex flex-col gap-2 items-start justify-start"},G={class:"text-lg font-semibold text-gray-900"},H=["src"],K={class:"flex flex-col gap-2 items-start justify-start"},R={class:"text-lg font-semibold text-gray-900"},W=["src"],X={class:"flex flex-col gap-2 items-start justify-start"},Y={class:"text-lg font-semibold text-gray-900"},Z=["href"],tt={class:"flex flex-col gap-2 items-start justify-start"},st={class:"text-lg font-semibold text-gray-900"},et={__name:"Detail",props:["transaction"],setup(l){const e=l,n=window.gpos.assets_url;function o(a){let d="bg-gray-100 bg-gray-800";switch(a){case"gpos_started":d="bg-yellow-100 text-yellow-800";break;case"gpos_redirected":d="bg-blue-100 text-blue-800";break;case"gpos_failed":d="bg-red-300 text-red-800 ";break;case"gpos_completed":d="bg-green-200 text-green-800";break}return d}const r=a=>{navigator.clipboard.writeText(a)};return(a,d)=>(i(),_("div",V,[t("div",q,[t("div",z,[t("span",A,s(e.transaction.total),1),t("span",D,s(e.transaction.currency),1),t("span",{class:$(`${o(e.transaction.status)} text-xs rounded-2xl px-4 py-2 ml-6`)},s(a.$t(e.transaction.status)),3)]),t("div",{class:"flex gap-2 items-center cursor-pointer",onClick:d[0]||(d[0]=b=>r(e.transaction.payment_id))},[t("span",U,s(a.$t("payment_id"))+": ",1),f(" "+s(e.transaction.payment_id)+" ",1),t("img",{class:"w-4 h-4",src:`${c(n)}/images/copy.svg`},null,8,J)])]),t("div",M,[t("span",null,s(a.$t("installment"))+" : "+s(e.transaction.installment),1)]),E,t("div",O,[t("div",Q,[t("span",I,s(a.$t("process")),1),t("span",null,s(a.$t(e.transaction.type)),1)]),t("div",P,[t("span",G,s(a.$t("virtual_pos")),1),t("img",{class:"w-[50px] object-contain",src:`${c(n)}/images/logo/${e.transaction.payment_gateway_id}.png`},null,8,H)]),t("div",K,[t("span",R,s(a.$t("plugin")),1),t("img",{class:"w-[50px] object-contain",src:`${c(n)}/images/plugin-logo/${e.transaction.plugin}.svg`},null,8,W)]),t("div",X,[t("span",Y,s(a.$t("plugin_transaction_id")),1),t("a",{class:"text-blue-700 text-lg flex items-center gap-1",href:`/wp-admin/post.php?post=${e.transaction.plugin_transaction_id}&action=edit`},[f("#"+s(e.transaction.plugin_transaction_id)+" ",1),u(c(y),{class:"w-4 h-4 text-blue-700"})],8,Z)]),t("div",tt,[t("span",st,s(a.$t("date")),1),t("span",null,s(e.transaction.date),1)])])]))}},at={class:"flex flex-col p-3 bg-white rounded h-fit shadow-md"},ot=["textContent"],nt=t("div",{class:"border border-[#F7F7F7] my-4"},null,-1),lt={class:"relative border-l border-gray-200 space-y-10"},ct=["src"],rt={class:"mb-1 text-sm font-medium text-gray-900"},it={class:"block mb-2 text-xs font-normal leading-none text-gray-400"},dt={__name:"Timeline",props:["transaction"],setup(l){const e=l,n=window.gpos.assets_url;function o(r){let a="bg-gray-100";switch(r){case"start":a="bg-yellow-100";break;case"status_update":a="bg-blue-100";break;case"failed":a="bg-red-100";break;case"complete":a="bg-green-200";break}return a}return(r,a)=>(i(),_("div",at,[t("div",{class:"text-blue-600 font-bold text-lg",textContent:s(r.$t("timeline"))},null,8,ot),nt,t("ol",lt,[(i(!0),_(p,null,m(e.transaction.notes,(d,b)=>(i(),_("li",{key:b,class:"ml-6"},[t("span",{class:$(`absolute flex items-center  justify-center w-8 h-8 ${o(d.type)} rounded-full -left-4 ring-8 ring-white`)},[t("img",{class:"w-5 h-5",src:`${c(n)}/images/${d.type}.svg`},null,8,ct)],2),t("h3",rt,s(d.note),1),t("time",it,s(d.date),1)]))),128))])]))}};const _t=["data-modal-target","data-modal-toggle"],ut=["id"],gt={class:"relative w-full max-w-6xl max-h-full ml-24"},pt={class:"relative bg-white rounded-lg shadow"},mt={class:"flex items-start justify-between p-4 border-b rounded-t"},xt={class:"flex flex-col"},ht={class:"text-xl font-semibold text-gray-900"},ft={class:"text-xs"},$t=["data-modal-hide"],bt={class:"p-6 space-y-6 bg-[#EBF0FA]"},yt={class:"w-full flex flex-col gap-3"},vt={class:"w-full"},wt={class:"text-xl font-bold text-black"},kt={class:"w-full"},Ct={class:"text-xl font-bold text-black"},jt={__name:"LogsDetailsModal",props:["log"],setup(l){const{log:e}=l,n=JSON.parse(e.request),o=JSON.parse(e.response);return(r,a)=>{const d=v("json-viewer");return i(),_("div",null,[t("button",{class:"flex justify-center items-center","data-modal-target":l.log.id,"data-modal-toggle":l.log.id},[u(c(w),{class:"w-4 h-4 text-blue-600"})],8,_t),t("div",{id:l.log.id,tabindex:"-1","aria-hidden":"true",class:"fixed top-0 left-0 right-0 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full"},[t("div",gt,[t("div",pt,[t("div",mt,[t("div",xt,[t("h3",ht,[f(s(r.$t(l.log.process))+" #"+s(l.log.transaction_id)+" ",1),t("span",ft,s(l.log.date),1)])]),t("button",{id:"log-details-close",type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center","data-modal-hide":l.log.id},[u(c(k),{class:"w-5 h-5"})],8,$t)]),t("div",bt,[t("div",yt,[t("div",vt,[t("span",wt,s(r.$t("request")),1),u(d,{class:"rounded mt-2",copyable:"",sort:"",value:c(n)},null,8,["value"])]),t("div",kt,[t("span",Ct,s(r.$t("response")),1),u(d,{class:"rounded mt-2",copyable:"",sort:"",value:c(o)},null,8,["value"])])])])])])],8,ut)])}}},Ft={class:"flex flex-col p-3 bg-white rounded h-fit shadow-md"},Bt=["textContent"],St=t("div",{class:"border border-[#F7F7F7] my-4"},null,-1),Tt={class:"relative border-l border-gray-200 space-y-10"},Lt={class:$("absolute flex items-center  justify-center w-8 h-8 bg-white rounded-full -left-4 ring-8 ring-white")},Nt={class:"mb-1 text-sm font-medium flex gap-2 text-gray-900"},Vt={class:"block mb-2 text-xs font-normal leading-none text-gray-400"},qt={__name:"Logs",props:["transaction"],setup(l){const e=l;return(n,o)=>(i(),_("div",Ft,[t("div",{class:"text-blue-600 font-bold text-lg",textContent:s(n.$t("logs"))},null,8,Bt),St,t("ol",Tt,[(i(!0),_(p,null,m(e.transaction.logs,(r,a)=>(i(),_("li",{key:a,class:"ml-6"},[t("span",Lt,[u(jt,{log:r},null,8,["log"])]),t("h3",Nt,s(n.$t(r.process)),1),t("time",Vt,s(r.date),1)]))),128))])]))}},zt={class:"p-5 bg-white rounded flex flex-col shadow-md"},At=["textContent"],Dt=t("div",{class:"border border-[#F7F7F7] my-4"},null,-1),Ut={class:"flex flex-wrap gap-y-4"},Jt={class:"text-lg font-semibold text-gray-900"},Mt={class:"text-md"},Et={__name:"Customer",props:["transaction"],setup(l){const e=l;return(n,o)=>(i(),_("div",zt,[t("div",{class:"text-blue-600 font-bold text-lg",textContent:s(n.$t("customer"))},null,8,At),Dt,t("div",Ut,[(i(),_(p,null,m(["customer_id","customer_first_name","customer_last_name","customer_email","customer_phone","customer_address","customer_state","customer_city","customer_country","customer_ip_address"],r=>t("div",{key:r,class:"flex flex-col w-1/5 gap-2"},[t("span",Jt,s(n.$t(r)),1),t("span",Mt,s(e.transaction[r]),1)])),64))])]))}},Ot={class:"p-5 bg-white rounded flex flex-col shadow-md"},Qt=["textContent"],It=t("div",{class:"border border-[#F7F7F7] my-4"},null,-1),Pt={class:"flex flex-wrap gap-y-4"},Gt={class:"text-lg font-semibold text-gray-900"},Ht={class:"text-md"},Kt={class:"flex flex-col w-1/4 gap-2"},Rt={class:"text-lg font-semibold text-gray-900"},Wt={class:"text-md"},Xt={class:"flex flex-col w-1/4 gap-2"},Yt={class:"text-lg font-semibold text-gray-900"},Zt={class:"text-md"},ts={class:"flex flex-col w-1/4 gap-2"},ss={class:"text-lg font-semibold text-gray-900"},es={class:"text-md"},as={class:"flex flex-col w-1/4 gap-2"},os={class:"text-lg font-semibold text-gray-900"},ns=["src"],ls={class:"flex flex-col w-1/4 gap-2"},cs={class:"text-lg font-semibold text-gray-900"},rs=["src","alt"],is={class:"flex flex-col w-1/4 gap-2"},ds={class:"text-lg font-semibold text-gray-900"},_s={class:"text-md"},us={__name:"CreditCard",props:["transaction"],setup(l){const e=l,n=window.gpos.assets_url;return(o,r)=>(i(),_("div",Ot,[t("div",{class:"text-blue-600 font-bold text-lg",textContent:s(o.$t("card_info"))},null,8,Qt),It,t("div",Pt,[(i(),_(p,null,m(["card_holder_name","masked_card_bin"],a=>t("div",{key:a,class:"flex flex-col w-1/4 gap-2"},[t("span",Gt,s(o.$t(a)),1),t("span",Ht,s(e.transaction[a]),1)])),64)),t("div",Kt,[t("span",Rt,s(o.$t("card_type")),1),t("span",Wt,s(o.$t(e.transaction.card_type==="credit"?"credit_card":"debit_card")),1)]),t("div",Xt,[t("span",Yt,s(o.$t("saved_card")),1),t("span",Zt,s(o.$t(e.transaction.use_save_card?"yes":"no")),1)]),t("div",ts,[t("span",ss,s(o.$t("card_bank_name")),1),t("span",es,s(e.transaction.card_bank_name),1)]),t("div",as,[t("span",os,s(o.$t("card_brand")),1),e.transaction.card_brand?(i(),_("img",{key:0,class:"w-[80px] object-contain",src:`${c(n)}/images/card/${e.transaction.card_brand}.svg`},null,8,ns)):g("",!0)]),t("div",ls,[t("span",cs,s(o.$t("card_family")),1),e.transaction.card_family?(i(),_("img",{key:0,class:"w-[80px] object-contain",src:`${c(n)}/images/card/${e.transaction.card_family.toLowerCase().replaceAll(/\s/g,"")}.svg`,alt:e.transaction.card_family},null,8,rs)):g("",!0)]),t("div",is,[t("span",ds,s(o.$t("card_country")),1),t("span",_s,s(e.transaction.card_country),1)])])]))}},gs=C("TransactionStore",{state:()=>({transaction:window.gpos.transaction||[]})}),ps=["textContent"],ms={class:"flex w-full gap-8 mt-4"},xs={class:"flex flex-col gap-8 w-3/4"},hs={class:"flex flex-col w-1/4 gap-8"},fs={__name:"App",setup(l){const{transaction:e}=gs();return j(()=>{const n=jQuery("#toplevel_page_gurmepos"),o=jQuery(".toplevel_page_gurmepos");n.addClass("wp-has-current-submenu"),o.addClass("wp-has-current-submenu"),o.siblings("ul").children("li").eq(2).addClass("current")}),(n,o)=>(i(),h(L,{text:n.$t("transaction"),href:"https://yardim.gurmehub.com/docs/pos-entegrator/ozellikler/islemler/?utm_source=wp_plugin&utm_medium=organic&utm_campaign=footer"},{default:F(()=>[t("span",{class:"text-blue-600 font-bold text-xl",textContent:s(n.$t("transaction_with_no",[c(e).id]))},null,8,ps),t("div",ms,[t("div",xs,[u(et,{transaction:c(e)},null,8,["transaction"]),u(Et,{transaction:c(e)},null,8,["transaction"]),u(us,{transaction:c(e)},null,8,["transaction"])]),t("div",hs,[c(e).notes.length>0?(i(),h(dt,{key:0,transaction:c(e)},null,8,["transaction"])):g("",!0),c(e).notes.length>0?(i(),h(qt,{key:1,transaction:c(e)},null,8,["transaction"])):g("",!0)])])]),_:1},8,["text"]))}},$s=B({locale:"default",messages:window.gpos.strings,legacy:!1}),x=S(fs);x.use(T);x.use(N);x.use($s);x.mount("#app");

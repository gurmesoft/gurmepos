import{x as y,o as c,a as d,b as t,t as e,n as $,h as b,u as l,e as m,T as w,j as g,g as p,P as v,F as x,B as f,U as k,V as C,z as j,d as F,L as B,f as T,M as S,l as L,m as N,W as V}from"../vendor/main.js";import{_ as q,p as z}from"../tailwind/main.js";const A={class:"p-5 bg-white rounded flex flex-col shadow-md"},D={class:"flex items-start justify-between text-gray-400 text-xs"},M={class:"flex items-center"},U={class:"text-2xl text-gray-900 font-semibold"},J={class:"text-sm pl-2"},E={class:"font-semibold"},O={key:1,textContent:"copied !"},P={class:"flex gap-2 text-gray-400 text-xs"},Q=t("div",{class:"border border-[#F7F7F7] my-4"},null,-1),I={class:"flex gap-12"},W={class:"flex flex-col gap-2 items-start justify-start"},G={class:"text-lg font-semibold text-gray-900"},H={class:"flex flex-col gap-2 items-start justify-start"},K={class:"text-lg font-semibold text-gray-900"},R=["src"],X={class:"flex flex-col gap-2 items-start justify-start"},Y={class:"text-lg font-semibold text-gray-900"},Z=["src"],tt={class:"flex flex-col gap-2 items-start justify-start"},st={class:"text-lg font-semibold text-gray-900"},et=["href"],at={class:"flex flex-col gap-2 items-start justify-start"},ot={class:"text-lg font-semibold text-gray-900"},nt={__name:"Detail",props:["transaction"],setup(r){const s=r,i=window.gpos.assets_url;function o(n){let u="bg-gray-100 bg-gray-800";switch(n){case"gpos_started":u="bg-yellow-100 text-yellow-800";break;case"gpos_redirected":u="bg-blue-100 text-blue-800";break;case"gpos_failed":u="bg-red-300 text-red-800 ";break;case"gpos_completed":u="bg-green-200 text-green-800";break}return u}let a=y(!0);const _=async n=>{await navigator.clipboard.writeText(n),a.value=!1,setTimeout(()=>{a.value=!0},1e3)};return(n,u)=>(c(),d("div",A,[t("div",D,[t("div",M,[t("span",U,e(s.transaction.total),1),t("span",J,e(s.transaction.currency),1),t("span",{class:$(`${o(s.transaction.status)} text-xs rounded-2xl px-4 py-2 ml-6`)},e(n.$t(s.transaction.status)),3)]),s.transaction.payment_id?(c(),d("div",{key:0,class:"flex gap-2 items-center cursor-pointer",onClick:u[0]||(u[0]=vs=>_(s.transaction.payment_id))},[t("span",E,e(n.$t("payment_id"))+": ",1),b(" "+e(s.transaction.payment_id)+" ",1),l(a)?(c(),m(l(w),{key:0,class:"w-4 h-4"})):(c(),d("span",O))])):g("",!0)]),t("div",P,[t("span",null,e(n.$t("installment"))+" : "+e(s.transaction.installment),1)]),Q,t("div",I,[t("div",W,[t("span",G,e(n.$t("process")),1),t("span",null,e(n.$t(s.transaction.type)),1)]),t("div",H,[t("span",K,e(n.$t("virtual_pos")),1),t("img",{class:"w-[50px] object-contain",src:`${l(i)}/images/logo/${s.transaction.payment_gateway_id}.png`},null,8,R)]),t("div",X,[t("span",Y,e(n.$t("plugin")),1),t("img",{class:"w-[50px] object-contain",src:`${l(i)}/images/plugin-logo/${s.transaction.plugin}.svg`},null,8,Z)]),t("div",tt,[t("span",st,e(n.$t("plugin_transaction_id")),1),t("a",{class:"text-blue-700 text-lg flex items-center gap-1",href:`/wp-admin/post.php?post=${s.transaction.plugin_transaction_id}&action=edit`},[b("#"+e(s.transaction.plugin_transaction_id)+" ",1),p(l(v),{class:"w-4 h-4 text-blue-700"})],8,et)]),t("div",at,[t("span",ot,e(n.$t("date")),1),t("span",null,e(s.transaction.date),1)])])]))}},lt={class:"flex flex-col p-3 bg-white rounded h-fit shadow-md"},ct=["textContent"],rt=t("div",{class:"border border-[#F7F7F7] my-4"},null,-1),it={class:"relative border-l border-gray-200 space-y-10"},dt=["src"],_t={class:"mb-1 text-sm font-medium text-gray-900"},ut={class:"block mb-2 text-xs font-normal leading-none text-gray-400"},pt={__name:"Timeline",props:["transaction"],setup(r){const s=r,i=window.gpos.assets_url;function o(a){let _="bg-gray-100";switch(a){case"start":_="bg-yellow-100";break;case"status_update":_="bg-blue-100";break;case"failed":_="bg-red-100";break;case"complete":_="bg-green-200";break}return _}return(a,_)=>(c(),d("div",lt,[t("div",{class:"text-blue-600 font-bold text-lg",textContent:e(a.$t("timeline"))},null,8,ct),rt,t("ol",it,[(c(!0),d(x,null,f(s.transaction.notes,(n,u)=>(c(),d("li",{key:u,class:"ml-6"},[t("span",{class:$(`absolute flex items-center  justify-center w-8 h-8 ${o(n.type)} rounded-full -left-4 ring-8 ring-white`)},[t("img",{class:"w-5 h-5",src:`${l(i)}/images/${n.type}.svg`},null,8,dt)],2),t("h3",_t,e(n.note),1),t("time",ut,e(n.date),1)]))),128))])]))}};const gt=["data-modal-target","data-modal-toggle"],mt=["id"],xt={class:"relative w-full max-w-6xl max-h-full ml-24"},ft={class:"relative bg-white rounded-lg shadow"},ht={class:"flex items-start justify-between p-4 border-b rounded-t"},bt={class:"flex flex-col"},$t={class:"text-xl font-semibold text-gray-900"},yt={class:"text-xs"},wt=["data-modal-hide"],vt={class:"p-6 space-y-6 bg-[#EBF0FA]"},kt={class:"w-full flex flex-col gap-3"},Ct={class:"w-full"},jt={class:"text-xl font-bold text-black"},Ft={class:"w-full"},Bt={class:"text-xl font-bold text-black"},Tt={__name:"LogsDetailsModal",props:["log"],setup(r){const{log:s}=r,i=JSON.parse(s.request),o=JSON.parse(s.response);return(a,_)=>{const n=k("json-viewer");return c(),d("div",null,[t("button",{class:"flex justify-center items-center","data-modal-target":r.log.id,"data-modal-toggle":r.log.id},[p(l(C),{class:"w-4 h-4 text-blue-600"})],8,gt),t("div",{id:r.log.id,tabindex:"-1","aria-hidden":"true",class:"fixed top-0 left-0 right-0 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full"},[t("div",xt,[t("div",ft,[t("div",ht,[t("div",bt,[t("h3",$t,[b(e(a.$t(r.log.process))+" #"+e(r.log.transaction_id)+" ",1),t("span",yt,e(r.log.date),1)])]),t("button",{id:"log-details-close",type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center","data-modal-hide":r.log.id},[p(l(j),{class:"w-5 h-5"})],8,wt)]),t("div",vt,[t("div",kt,[t("div",Ct,[t("span",jt,e(a.$t("request")),1),p(n,{class:"rounded mt-2",copyable:"",sort:"",value:l(i)},null,8,["value"])]),t("div",Ft,[t("span",Bt,e(a.$t("response")),1),p(n,{class:"rounded mt-2",copyable:"",sort:"",value:l(o)},null,8,["value"])])])])])])],8,mt)])}}},St={class:"flex flex-col p-3 bg-white rounded h-fit shadow-md"},Lt=["textContent"],Nt=t("div",{class:"border border-[#F7F7F7] my-4"},null,-1),Vt={class:"relative border-l border-gray-200 space-y-10"},qt={class:$("absolute flex items-center  justify-center w-8 h-8 bg-white rounded-full -left-4 ring-8 ring-white")},zt={class:"mb-1 text-sm font-medium flex gap-2 text-gray-900"},At={class:"block mb-2 text-xs font-normal leading-none text-gray-400"},Dt={__name:"Logs",props:["transaction"],setup(r){const s=r;return(i,o)=>(c(),d("div",St,[t("div",{class:"text-blue-600 font-bold text-lg",textContent:e(i.$t("logs"))},null,8,Lt),Nt,t("ol",Vt,[(c(!0),d(x,null,f(s.transaction.logs,(a,_)=>(c(),d("li",{key:_,class:"ml-6"},[t("span",qt,[p(Tt,{log:a},null,8,["log"])]),t("h3",zt,e(i.$t(a.process)),1),t("time",At,e(a.date),1)]))),128))])]))}},Mt={class:"p-5 bg-white rounded flex flex-col shadow-md"},Ut=["textContent"],Jt=t("div",{class:"border border-[#F7F7F7] my-4"},null,-1),Et={class:"flex flex-wrap gap-y-4"},Ot={class:"text-lg font-semibold text-gray-900"},Pt={class:"text-md"},Qt={__name:"Customer",props:["transaction"],setup(r){const s=r;return(i,o)=>(c(),d("div",Mt,[t("div",{class:"text-blue-600 font-bold text-lg",textContent:e(i.$t("customer"))},null,8,Ut),Jt,t("div",Et,[(c(),d(x,null,f(["customer_id","customer_first_name","customer_last_name","customer_email","customer_phone","customer_address","customer_state","customer_city","customer_country","customer_ip_address"],a=>t("div",{key:a,class:"flex flex-col w-1/5 gap-2"},[t("span",Ot,e(i.$t(a)),1),t("span",Pt,e(s.transaction[a]),1)])),64))])]))}},It={class:"p-5 bg-white rounded flex flex-col shadow-md"},Wt=["textContent"],Gt=t("div",{class:"border border-[#F7F7F7] my-4"},null,-1),Ht={class:"flex flex-wrap gap-y-4"},Kt={class:"text-lg font-semibold text-gray-900"},Rt={class:"text-md"},Xt={class:"flex flex-col w-1/4 gap-2"},Yt={class:"text-lg font-semibold text-gray-900"},Zt={class:"text-md"},ts={class:"flex flex-col w-1/4 gap-2"},ss={class:"text-lg font-semibold text-gray-900"},es={class:"text-md"},as={class:"flex flex-col w-1/4 gap-2"},os={class:"text-lg font-semibold text-gray-900"},ns={class:"text-md"},ls={class:"flex flex-col w-1/4 gap-2"},cs={class:"text-lg font-semibold text-gray-900"},rs=["src"],is={class:"flex flex-col w-1/4 gap-2"},ds={class:"text-lg font-semibold text-gray-900"},_s=["src","alt"],us={class:"flex flex-col w-1/4 gap-2"},ps={class:"text-lg font-semibold text-gray-900"},gs={class:"text-md"},ms={__name:"CreditCard",props:["transaction"],setup(r){const s=r,i=window.gpos.assets_url;return(o,a)=>(c(),d("div",It,[t("div",{class:"text-blue-600 font-bold text-lg",textContent:e(o.$t("card_info"))},null,8,Wt),Gt,t("div",Ht,[(c(),d(x,null,f(["card_holder_name","masked_card_bin"],_=>t("div",{key:_,class:"flex flex-col w-1/4 gap-2"},[t("span",Kt,e(o.$t(_)),1),t("span",Rt,e(s.transaction[_]),1)])),64)),t("div",Xt,[t("span",Yt,e(o.$t("card_type")),1),t("span",Zt,e(o.$t(s.transaction.card_type==="credit"?"credit_card":"debit_card")),1)]),t("div",ts,[t("span",ss,e(o.$t("saved_card")),1),t("span",es,e(o.$t(s.transaction.use_save_card?"yes":"no")),1)]),t("div",as,[t("span",os,e(o.$t("card_bank_name")),1),t("span",ns,e(s.transaction.card_bank_name),1)]),t("div",ls,[t("span",cs,e(o.$t("card_brand")),1),s.transaction.card_brand?(c(),d("img",{key:0,class:"w-[80px] object-contain",src:`${l(i)}/images/card/${s.transaction.card_brand}.svg`},null,8,rs)):g("",!0)]),t("div",is,[t("span",ds,e(o.$t("card_family")),1),s.transaction.card_family?(c(),d("img",{key:0,class:"w-[80px] object-contain",src:`${l(i)}/images/card/${s.transaction.card_family.toLowerCase().replaceAll(/\s/g,"")}.svg`,alt:s.transaction.card_family},null,8,_s)):g("",!0)]),t("div",us,[t("span",ps,e(o.$t("card_country")),1),t("span",gs,e(s.transaction.card_country),1)])])]))}},xs=F("TransactionStore",{state:()=>({transaction:window.gpos.transaction||[]})}),fs={class:"text-blue-600 font-bold text-xl"},hs={class:"flex w-full gap-8 mt-4"},bs={class:"flex flex-col gap-8 w-3/4"},$s={class:"flex flex-col w-1/4 gap-8"},ys={__name:"App",setup(r){const{transaction:s}=xs();B(()=>{const o=jQuery("#toplevel_page_gurmepos"),a=jQuery(".toplevel_page_gurmepos");o.addClass("wp-has-current-submenu"),a.addClass("wp-has-current-submenu"),a.siblings("ul").children("li").eq(2).addClass("current")});const i=()=>{window.history.back()};return(o,a)=>(c(),m(q,{text:o.$t("transaction"),href:"https://yardim.gurmehub.com/docs/pos-entegrator/ozellikler/islemler/?utm_source=wp_plugin&utm_medium=organic&utm_campaign=footer"},{default:T(()=>[t("span",{class:"w-max flex gap-1 items-center my-4 cursor-pointer",onClick:i},[p(l(S),{class:"text-blue-600 w-6 h-6"}),t("span",fs,e(o.$t("transaction_with_no",[l(s).id])),1)]),t("div",hs,[t("div",bs,[p(nt,{transaction:l(s)},null,8,["transaction"]),p(Qt,{transaction:l(s)},null,8,["transaction"]),p(ms,{transaction:l(s)},null,8,["transaction"])]),t("div",$s,[l(s).notes.length>0?(c(),m(pt,{key:0,transaction:l(s)},null,8,["transaction"])):g("",!0),l(s).notes.length>0?(c(),m(Dt,{key:1,transaction:l(s)},null,8,["transaction"])):g("",!0)])])]),_:1},8,["text"]))}},ws=L({locale:"default",messages:window.gpos.strings,legacy:!1}),h=N(ys);h.use(V);h.use(z);h.use(ws);h.mount("#app");

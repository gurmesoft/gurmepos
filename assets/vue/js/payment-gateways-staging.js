import{o,c as i,r as C,j as F,s as v,x as M,g as p,e as m,f,t as s,u as _,M as N,a as e,N as V,O as z,w as P,m as I,F as G,q as j,n as L,d as b,P as q,l as g,Q as R,R as E,T as J,J as K,K as O}from"./vendor-staging.js";import{a as A,p as Q}from"./ajax-staging.js";import{u as D,_ as U}from"./Page-staging.js";import{_ as H}from"./_plugin-vue_export-helper-staging.js";import{_ as W}from"./ProBadge-staging.js";import{_ as B}from"./PrimaryButton-staging.js";import{S as X}from"./SetDefaultBadge-staging.js";import{_ as Y,a as Z}from"./Warning-staging.js";/* empty css             */const ee={},te={type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm p-2 text-center inline-flex items-center mr-2"};function se(c,n){return o(),i("button",te,[C(c.$slots,"default")])}const oe=H(ee,[["render",se]]),x=F("GatewayAccounts",{state:()=>({gatewayAccounts:window.gpos.gateway_accounts||[]}),actions:{async addGatewayAccount(c){return await A.post("add_gateway_account",{gateway:c})},async getGatewayAccounts(){const c=await A.get("get_gateway_accounts");this.gatewayAccounts=c},updateActiveStatus(c,n){A.post("update_active_status",{id:c,status:n})},async updateDefaultStatus(c,n){return await A.post("update_default_status",{id:c,default:n})}}}),ae={key:0,class:"fixed top-0 left-0 z-50 flex align-center items-center h-screen justify-center w-full",style:{"background-color":"rgba(0,0,0,0.5)"}},ne={class:"p-4 overflow-x-hidden overflow-y-auto"},le={class:"relative w-full h-full max-w-md"},re={class:"relative bg-white rounded-lg shadow"},ie={class:"flex items-start justify-between p-1"},ce={class:"py-6 pl-6 pr-3 space-y-3"},de={class:"text-xl font-semibold flex items-center"},ue={class:"ml-2 bg-purple-100 text-purple-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded border border-purple-400"},pe={class:"relative w-full"},_e={class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},me={class:"pr-4"},fe=["placeholder"],ye={class:"payment-gateway-modal mt-2 space-y-5 overflow-y-auto h-60 max-h-min"},he=["onMouseover"],ge={class:"flex gap-2 items-center py-2"},we=["src"],be={class:"text-sm font-normal text-gray-500"},$e={key:1},ve={class:"px-6 pt-3 pb-6 text-sm font-medium text-gray-500"},xe={href:"https://posentegrator.com/bize-ulasin/",target:"_blank",class:"text-blue-600"},ke={__name:"AddPaymentGatewayModal",setup(c){const{paymentGateways:n}=D(),{addGatewayAccount:w}=x(),{gatewayAccounts:$}=v(x()),y=M(!1),d=M(""),u=M(!1),S=()=>n.filter(a=>a.title.toLowerCase().includes(d.value.toLowerCase())&&!$.value.find(t=>a.id===t.gateway_id)),l=async a=>{u.value=!1;const t=await w(a);window.location.href=t.settings_url};return(a,t)=>(o(),i("div",null,[p(B,{onClick:t[0]||(t[0]=r=>u.value=!u.value)},{default:m(()=>[f(s(a.$t("add_payment_comp"))+" ",1),p(_(N),{class:"w-4 h-4 ml-2"})]),_:1}),u.value?(o(),i("div",ae,[e("div",ne,[e("div",le,[e("div",re,[e("div",ie,[e("button",{type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center",onClick:t[1]||(t[1]=r=>u.value=!u.value)},[p(_(V),{class:"w-5 h-5"})])]),e("div",ce,[e("p",de,[f(s(a.$t("add_payment_comp"))+" ",1),e("span",ue,s(_(n).length)+" "+s(a.$t("establishment")),1)]),e("div",pe,[e("div",_e,[p(_(z),{class:"w-4 h-4 text-blue-600"})]),e("div",me,[P(e("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>d.value=r),type:"text",class:"!bg-gray-50 border !border-gray-300 !text-gray-900 !text-sm !rounded-lg !focus:ring-blue-500 !focus:border-blue-500 !block !w-full !pl-10 !p-3 mb-6",placeholder:a.$t("search_payment_gateway"),required:""},null,8,fe),[[I,d.value]])])]),e("div",ye,[(o(!0),i(G,null,j(S(),(r,h)=>(o(),i("div",{key:h,class:L(`border rounded-lg flex justify-between items-center ${r.is_need_pro?"bg-gray-100 p-4":"p-3"}`),onMouseleave:t[3]||(t[3]=k=>y.value=!1),onMouseover:k=>y.value=h},[e("div",ge,[e("img",{class:"w-[50px] object-contain",src:r.logo},null,8,we),e("span",be,s(r.title),1)]),r.is_need_pro?(o(),b(W,{key:0})):(o(),i("div",$e,[y.value===h?(o(),b(oe,{key:0,onClick:k=>l(r.id)},{default:m(()=>[p(_(q),{class:"w-5 h-5 font-bold"})]),_:2},1032,["onClick"])):g("",!0)]))],42,he))),128))])]),e("p",ve,[f(s(a.$t("find_comp"))+" ",1),e("a",xe,s(a.$t("contact_us")),1)])])])])])):g("",!0)]))}},Ae={class:"w-full text-sm text-left bg-white shadow-md"},Ce={class:"text-xs text-gray-500 uppercase bg-[#F9FAFB]"},Me={scope:"col",class:"px-6 py-3"},Se={scope:"col",class:"px-6 py-3"},Ge={scope:"col",class:""},je={scope:"col",class:"px-6 py-3 sr-only"},Be={key:0},De={colspan:"4",class:"px-6 py-4 text-sm text-gray-400"},Te=["onMouseover"],Fe={scope:"row",class:"px-3 py-4 font-medium text-gray-900 rounded-lg whitespace-nowrap flex gap-5 items-center !min-w-[300px]"},Ne=["src"],Ve={key:1},ze={class:"px-6 py-4"},Pe={class:"flex gap-2 flex-wrap"},Ie=["href"],Le=["data-tooltip-target"],qe=["id"],Re={class:"max-w-xs flex flex-wrap break-words"},Ee=e("div",{class:"tooltip-arrow","data-popper-arrow":""},null,-1),Je={class:"px-6 py-4 flex justify-end"},Ke={__name:"PaymentGatewayTable",setup(c){const{paymentGateways:n}=v(D()),{updateDefaultStatus:w,getGatewayAccounts:$}=x(),{gatewayAccounts:y}=v(x()),d=M(!1),u=(l,a)=>n.value.find(r=>r.id==l.gateway_id)[a],S=async(l,a)=>{await w(l,a),$()};return(l,a)=>(o(),i("table",Ae,[e("thead",Ce,[e("tr",null,[e("th",Me,s(l.$t("payment_method")),1),e("th",Se,s(l.$t("features")),1),e("th",Ge,s(l.$t("currency")),1),e("th",je,s(l.$t("actions")),1)])]),e("tbody",null,[_(y).length===0?(o(),i("tr",Be,[e("td",De,s(l.$t("not_active_comp")),1)])):(o(!0),i(G,{key:1},j(_(y),(t,r)=>(o(),i("tr",{key:r,class:"bg-white border border-gray-100",onMouseleave:a[0]||(a[0]=h=>d.value=!1),onMouseover:h=>d.value=r},[e("th",Fe,[e("img",{class:"w-[50px] max-h-[30px]",src:u(t,"logo")},null,8,Ne),f(" "+s(u(t,"title"))+" ",1),t.is_default?(o(),b(X,{key:0},{default:m(()=>[f(s(l.$t("default")),1)]),_:1})):g("",!0),d.value===r&&!t.is_default?(o(),i("div",Ve,[p(B,{class:"!inline-flex !items-center !bg-blue-700 !text-white !text-xs !font-medium !mr-2 !px-2.5 !py-0.5 !rounded-full",onClick:h=>S(t.id,!0)},{default:m(()=>[f(s(l.$t("make_default")),1)]),_:2},1032,["onClick"])])):g("",!0)]),e("td",ze,[e("div",Pe,[(o(!0),i(G,null,j(u(t,"supports").slice(0,5),(h,k)=>(o(),i("span",{key:k,class:"bg-blue-100 text-blue-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded"},s(l.$t(h)),1))),128)),u(t,"supports").length>5?(o(),i("a",{key:0,href:t.settings_url,class:"bg-gray-100 text-gray-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded underline"},s(l.$t("all_features")),9,Ie)):g("",!0)])]),e("td",null,[e("button",{"data-tooltip-target":`currency-${t.id}`,"data-tooltip-placement":"bottom",type:"button"},[p(_(R),{class:"w-5 h-5 text-green-600"})],8,Le),e("div",{id:`currency-${t.id}`,role:"tooltip",class:"absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip"},[e("div",Re,s(u(t,"currencies").join(", ")),1),Ee],8,qe)]),e("td",Je,[p(B,{href:t.settings_url},{default:m(()=>[p(_(E),{class:"w-4 h-4"})]),_:2},1032,["href"])])],40,Te))),128))])]))}},Oe={class:"p-4 mb-4 text-blue-600 border border-blue-200 rounded-lg bg-blue-50 w-full",role:"alert"},Qe={class:"flex items-center"},Ue={class:"text-blue-600 text-md font-medium"},He={class:"text-blue-600 mt-2 mb-4 text-sm"},We={__name:"Info",setup(c){return(n,w)=>(o(),i("div",Oe,[e("div",Qe,[p(_(J),{class:"w-4 h-4 mr-2"}),e("span",Ue,[C(n.$slots,"default")])]),e("div",He,[C(n.$slots,"content")]),C(n.$slots,"button")]))}},Xe={class:"w-full flex justify-between items-center border mb-4 border-gray-100 rounded-lg p-5 bg-white shadow-md"},Ye=e("div",{id:"sticky-banner",tabindex:"-1",class:"fixed bottom-10 right-10"},null,-1),Ze={__name:"App",setup(c){const n=D(),{isTestMode:w}=v(n),$=x(),{gatewayAccounts:y}=v($);return(d,u)=>(o(),b(U,{text:d.$t("payment_methods"),href:"https://yardim.gurmehub.com/docs/pos-entegrator/odeme-yontemleri/?utm_source=wp_plugin&utm_medium=referal&utm_campaign=footer"},{default:m(()=>[_(w)?(o(),b(Y,{key:0,class:"p-4 mb-4"},{content:m(()=>[f(s(d.$t("test_mode_content")),1)]),default:m(()=>[f(s(d.$t("test_mode_title")),1)]),_:1})):g("",!0),_(y).length===0?(o(),b(We,{key:1},{content:m(()=>[f(s(d.$t("empty_gateway_content")),1)]),default:m(()=>[f(s(d.$t("empty_gateway_title")),1)]),_:1})):g("",!0),e("div",Xe,[p(Z),p(ke)]),p(Ke),Ye]),_:1},8,["text"]))}},et=K({locale:"default",messages:window.gpos.strings,legacy:!1}),T=O(Ze);T.use(Q);T.use(et);T.mount("#app");

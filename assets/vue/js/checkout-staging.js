import{_ as T,a as V,b as A,c as F,d as B,e as H,i as I,f as O,g as U}from"./input-listener-staging.js";import{x as $,o as s,c as o,w as x,B as S,a as t,g as u,n as k,u as a,ae as q,f,t as c,d as v,l as m,F as g,s as w,a2 as N,k as R,af as D,Y as P,ag as z,ah as E,q as C,v as j,b as J,a6 as K,I as Y,J as G,K as Q,ai as W}from"./vendor-staging.js";import{p as X}from"./ajax-staging.js";import{_ as Z}from"./_plugin-vue_export-helper-staging.js";import{u as b}from"./CheckoutStore-staging.js";const ee={class:"text-sm font-medium text-gray-900 flex items-center gap-1 cursor-pointer",for:"gpos-threed"},te={__name:"Optional",setup(l){const e=$(!0);return(r,d)=>(s(),o("label",ee,[x(t("input",{id:"gpos-threed","onUpdate:modelValue":d[0]||(d[0]=n=>e.value=n),type:"checkbox",value:"on",class:"border-gray-300 rounded !block !m-0"},null,512),[[S,e.value]]),u(a(q),{class:k(`w-5 ${e.value?"text-green-600":"text-gray-300"}`)},null,8,["class"]),f(" "+c(r.$t("threed_checkout")),1)]))}},se={},ae={id:"gpos-threed",type:"hidden",value:"on"};function ne(l,e){return s(),o("input",ae)}const re=Z(se,[["render",ne]]),le={key:0,class:"w-full"},L={__name:"Threed",setup(l){const{formSettings:e}=b();return(r,d)=>a(e).threed!=="none_threed"?(s(),o("div",le,[a(e).threed==="optional_threed"?(s(),v(te,{key:0})):(s(),v(re,{key:1}))])):m("",!0)}},oe={class:"flex flex-col w-full gap-4"},de={class:"flex w-full flex-col gap-2 md:flex-row md:justify-between"},ie={__name:"StandartForm",setup(l){return(e,r)=>(s(),o("div",oe,[u(T),t("div",de,[u(V),u(A)]),u(L),u(F)]))}},ce={class:"flex flex-col gap-6"},ue={key:2,id:"gpos-common-form",type:"hidden",value:"on"},M={__name:"Lite",setup(l){const{isTestMode:e,formSettings:r,gateway:d}=b();return(n,i)=>(s(),o("div",ce,[a(e)?(s(),v(B,{key:0})):m("",!0),a(d).is_common_form===!1?(s(),o(g,{key:1},[a(r).holder_name_field?(s(),v(H,{key:0})):m("",!0),a(r).display_type==="standart_form"?(s(),v(ie,{key:1})):m("",!0)],64)):(s(),o("input",ue))]))}},_e={key:0,class:"flex flex-col my-2"},me={key:0,class:"w-full flex items-center justify-start p-2 gap-2 bg-blue-50 border-blue-600 text-blue-800 border rounded"},pe={key:1,class:"text-sm font-medium text-gray-900 flex items-center gap-1 cursor-pointer"},fe={class:"inline-flex relative !rounded-l items-center justify-start text-sm !bg-white !w-12 !min-w-max"},ve=["placeholder"],ye={__name:"SaveCard",setup(l){const e=$(!1),{userId:r,gateway:d,cardSaveSettings:n,wcSubsSettings:i}=b(),{saveCurrentCard:_}=w(b());return(y,p)=>a(r)&&a(d).supports.includes("save_card")&&a(n).active?(s(),o("div",_e,[a(n).force_save?(s(),o(g,{key:0},[a(i).save_info?(s(),o("div",me,[t("div",null,[u(a(N),{class:"!w-6 !h-6 mt-1","aria-hidden":"true"})]),f(" "+c(a(i).save_info),1)])):m("",!0)],64)):(s(),o("label",pe,[x(t("input",{id:"gpos-save-card","onUpdate:modelValue":p[0]||(p[0]=h=>R(_)?_.value=h:null),type:"checkbox",value:"on",class:"border-gray-300 rounded !block !m-0"},null,512),[[S,a(_)]]),f(" "+c(y.$t("save_card_checkout")),1)])),a(_)&&a(n).name_field==="show_field"?(s(),o("div",{key:2,class:k(`flex w-full border !rounded ${e.value?"border-blue-700":"border-gray-300"}`)},[t("span",fe,[u(a(D),{class:"w-6 h-6 mx-3","aria-hidden":"true"})]),t("input",{id:"gpos-card-name",type:"text",placeholder:y.$t("card_name"),onFocus:p[1]||(p[1]=h=>e.value=!e.value),onFocusout:p[2]||(p[2]=h=>e.value=!e.value)},null,40,ve)],2)):m("",!0)])):m("",!0)}},he=["value"],be=["value"],ge={class:"w-2/12"},$e=["src","alt"],xe={class:"w-6/12"},we={class:"w-2/12 text-end"},ke={class:"w-2/12 text-end"},Ce={__name:"SavedCard",props:{savedCard:{required:!0,type:Object}},setup(l){const e=l,{selectedSavedCard:r,card:d,assetsUrl:n}=w(b());P(()=>{e.savedCard.default&&i()});const i=()=>{r.value=e.savedCard.id,d.value.bin=e.savedCard.masked_card_bin};return(_,y)=>(s(),o("div",{class:k(`${a(r)===l.savedCard.id?"border-l-green-400":"border-l-gray-50"} rounded border-l-4  bg-[#fbfbfb] w-full px-3 py-4 cursor-pointer flex items-center font-semibold`),onClick:y[0]||(y[0]=p=>i())},[a(r)===l.savedCard.id?(s(),o(g,{key:0},[t("input",{id:"gpos-card-bin",value:l.savedCard.masked_card_bin,type:"hidden"},null,8,he),t("input",{id:"gpos-saved-card",value:l.savedCard.id,type:"hidden"},null,8,be)],64)):m("",!0),t("div",ge,[t("img",{class:"w-9 h-9 object-contain rounded-md",src:`${a(n)}/images/card/${l.savedCard.card_family?l.savedCard.card_family.toLowerCase().replaceAll(/\s/g,""):"default"}.svg
          `,alt:l.savedCard.card_family},null,8,$e)]),t("div",xe,c(l.savedCard.card_name||_.$t("saved_card")),1),t("div",we,c(l.savedCard.last_four_digit),1),t("div",ke,c(l.savedCard.card_expiry_month)+"/"+c(l.savedCard.card_expiry_year.substr(-2)),1)],2))}},Se={key:0,class:"flex flex-col"},je={key:1,class:"flex flex-col gap-2 mb-2"},Le=t("input",{id:"gpos-use-saved-card",type:"hidden",value:"on",checked:""},null,-1),Me={__name:"Pro",setup(l){const{savedCards:e,selectedSavedCard:r,card:d,cardSaveSettings:n,showFields:i}=w(b()),_=()=>{r.value="",d.value.bin="",d.value.type=""};return(y,p)=>a(i)?(s(),o("div",Se,[a(e).length&&a(n).active?(s(),o("div",{key:0,class:"rounded bg-gray-100 w-full p-3 border shadow hover:shadow-md border-gray-300 cursor-pointer mb-3 text-md font-semibold flex items-center",onClick:p[0]||(p[0]=h=>i.value=!a(i))},[u(a(z),{class:"w-6 h-6 mx-3","aria-hidden":"true"}),f(" "+c(y.$t("pay_with_saved")),1)])):m("",!0),u(M),u(ye)])):(s(),o("div",je,[t("div",{class:"rounded bg-gray-100 w-full p-3 border shadow hover:shadow-md border-gray-300 cursor-pointer mb-3 text-md font-semibold flex items-center",onClick:p[1]||(p[1]=h=>(i.value=!a(i),_()))},[u(a(E),{class:"w-6 h-6 mx-3","aria-hidden":"true"}),f(" "+c(y.$t("pay_with_diff")),1)]),Le,(s(!0),o(g,null,C(a(e),h=>(s(),v(Ce,{key:h.id,"saved-card":h},null,8,["saved-card"]))),128)),u(L)]))}},Te={class:"w-full flex flex-col gap-4"},Ve={class:"w-full !text-md bg-gray-200 border border-gray-300 flex justify-between items-center rounded-md p-2 font-semibold"},Ae=["for"],Fe=["id","data-rate","value"],Be={class:"flex gap-3 items-end !text-md"},He={class:"text-gray-400"},Ie=["innerHTML"],Oe={class:"flex items-center justify-end font-semibold"},Ue=["innerHTML"],qe={__name:"RowList",props:{rates:{required:!0,type:Object}},setup(l){const e=$("1");return(r,d)=>(s(),o("div",Te,[t("div",Ve,[t("div",null,c(r.$t("installment_number")),1),t("div",null,c(r.$t("monthly_payment")),1)]),(s(!0),o(g,null,C(l.rates,(n,i)=>(s(),o("label",{key:i,for:`gpos-installment-${n.installment_number}`,class:"bg-white border border-gray-300 flex justify-between p-2 rounded-md items-center cursor-pointer font-semibold ml-2"},[t("div",null,[x(t("input",{id:`gpos-installment-${n.installment_number}`,"onUpdate:modelValue":d[0]||(d[0]=_=>e.value=_),type:"radio","data-name":"gpos-installment","data-rate":n.rate,value:n.installment_number},null,8,Fe),[[j,e.value]]),f(" "+c(n.installment_number),1)]),t("div",Be,[t("div",He,[t("span",null,c(r.$t("total"))+": ",1),f(" "+c(n.amount_total),1),t("span",{innerHTML:n.currency_symbol},null,8,Ie)]),t("div",Oe,[f(c(n.amount_per_month)+" ",1),t("span",{innerHTML:n.currency_symbol},null,8,Ue),f("Â / "+c(r.$t("month"))+" ",1)])])],8,Ae))),128))]))}},Ne={class:"w-full text-sm text-gray-500"},Re={class:"text-xs text-gray-700 bg-gray-50"},De={scope:"col",class:"!px-6 !py-3"},Pe={scope:"col",class:"!px-6 !py-3"},ze={scope:"row",class:"!px-6 !py-4 font-medium text-gray-900",colspan:"2"},Ee=["for"],Je=["id","data-rate","value"],Ke=["innerHTML"],Ye={__name:"TableList",props:{rates:{required:!0,type:Object}},setup(l){const e=$("1");return(r,d)=>(s(),o("table",Ne,[t("thead",Re,[t("tr",null,[t("th",De,c(r.$t("installment_number")),1),t("th",Pe,c(r.$t("monthly_payment")),1)])]),t("tbody",null,[(s(!0),o(g,null,C(l.rates,(n,i)=>(s(),o("tr",{key:i,class:"bg-white !border-gray-900 !border-b !border-collapse"},[t("td",ze,[t("label",{for:`gpos-installment-${n.installment_number}`,class:"cursor-pointer flex w-full justify-between items-center"},[t("div",null,[x(t("input",{id:`gpos-installment-${n.installment_number}`,"onUpdate:modelValue":d[0]||(d[0]=_=>e.value=_),type:"radio","data-name":"gpos-installment","data-rate":n.rate,value:n.installment_number},null,8,Je),[[j,e.value]]),f(" "+c(n.installment_number)+" "+c(r.$t("installment")),1)]),t("div",null,[f(c(n.amount_per_month)+" ",1),t("span",{innerHTML:n.currency_symbol},null,8,Ke)])],8,Ee)])]))),128))])]))}},Ge={key:0,class:"w-full mt-4"},Qe={__name:"Installments",setup(l){const{isInstallmentsActive:e,installments:r,formSettings:d,card:n}=w(b()),i=J(()=>r.value[n.value.family.toLowerCase().replaceAll(/\s/g,"")]);return(_,y)=>i.value&&Object.keys(i.value).length>1&&a(e)&&a(n).type==="credit"?(s(),o("div",Ge,[a(d).installment_view==="row_view"?(s(),v(qe,{key:0,rates:i.value},null,8,["rates"])):m("",!0),a(d).installment_view==="table_view"?(s(),v(Ye,{key:1,rates:i.value},null,8,["rates"])):m("",!0)])):m("",!0)}};const We={class:"flex flex-col gpos-checkout-class"},Xe={__name:"App",setup(l){const{isProActive:e,gateway:r}=b();let d=U;return r&&(d=e?Me:M),K(I),(n,i)=>(s(),o("div",We,[(s(),v(Y(a(d)))),a(r)?(s(),v(Qe,{key:0})):m("",!0),u(O)]))}};window.gposCreateCheckoutApplication=()=>{const l=G({locale:"default",messages:window.gpos.strings,legacy:!1}),e=Q(Xe);return e.use(W),e.use(X),e.use(l),e.mount("#app"),e};

import{_ as V,a as A,b as F,c as I,d as H,e as O,i as B,f as U,g as q}from"./GatewayError-staging.js";import{y as S,o as a,c as d,w as x,C as j,a as t,g as _,n as w,u as s,ai as N,f as v,t as c,d as y,l as m,s as g,F as $,a6 as R,k,aj as D,a0 as P,ak as z,al as E,x as C,v as L,b as J,J as K,K as G,O as Q,P as W,am as X}from"./vendor-staging.js";import{p as Y}from"./ajax-staging.js";import{_ as Z}from"./_plugin-vue_export-helper-staging.js";import{u as h}from"./CheckoutStore-staging.js";const ee={class:"text-sm font-medium text-gray-900 flex items-center gap-1 cursor-pointer",for:"gpos-threed"},te={__name:"Optional",setup(r){const e=S(!0);return(l,o)=>(a(),d("label",ee,[x(t("input",{id:"gpos-threed","onUpdate:modelValue":o[0]||(o[0]=n=>e.value=n),type:"checkbox",value:"on",class:"border-gray-300 rounded !block !m-0"},null,512),[[j,e.value]]),_(s(N),{class:w(`w-5 ${e.value?"text-green-600":"text-gray-300"}`)},null,8,["class"]),v(" "+c(l.$t("threed_checkout")),1)]))}},se={},ae={id:"gpos-threed",type:"hidden",value:"on"};function ne(r,e){return a(),d("input",ae)}const re=Z(se,[["render",ne]]),le={key:0,class:"w-full"},M={__name:"Threed",setup(r){const{formSettings:e}=h();return(l,o)=>s(e).threed!=="none_threed"?(a(),d("div",le,[s(e).threed==="optional_threed"?(a(),y(te,{key:0})):(a(),y(re,{key:1}))])):m("",!0)}},oe={class:"flex flex-col w-full gap-4"},de={class:"flex w-full flex-col gap-2 md:flex-row md:justify-between"},ie={__name:"StandartForm",setup(r){return(e,l)=>(a(),d("div",oe,[_(V),t("div",de,[_(A),_(F)]),_(M),_(I)]))}},ce={class:"flex flex-col gap-6"},ue={key:2,id:"gpos-common-form",type:"hidden",value:"on"},T={__name:"Lite",setup(r){const{isTestMode:e,formSettings:l,gateway:o}=g(h());return(n,i)=>(a(),d("div",ce,[s(e)?(a(),y(H,{key:0})):m("",!0),s(o).is_common_form===!1?(a(),d($,{key:1},[s(l).holder_name_field?(a(),y(O,{key:0})):m("",!0),s(l).display_type==="standart_form"?(a(),y(ie,{key:1})):m("",!0)],64)):(a(),d("input",ue))]))}},_e={key:0,class:"flex flex-col my-2"},me={key:0,class:"w-full flex items-center justify-start p-2 gap-2 bg-blue-50 border-blue-600 text-blue-800 border rounded"},pe={key:1,class:"text-sm font-medium text-gray-900 flex items-center gap-1 cursor-pointer"},fe={class:"inline-flex relative !rounded-l items-center justify-start text-sm !bg-white !w-12 !min-w-max"},ve=["placeholder"],ye={__name:"SaveCard",setup(r){const e=S(!1),{userId:l,cardSaveSettings:o,wcSubsSettings:n}=h(),{saveCurrentCard:i,gateway:u}=g(h());return(p,f)=>s(l)&&s(u).supports.includes("save_card")&&s(o).active?(a(),d("div",_e,[s(o).force_save?(a(),d($,{key:0},[s(n).save_info?(a(),d("div",me,[t("div",null,[_(s(R),{class:"!w-6 !h-6 mt-1","aria-hidden":"true"})]),v(" "+c(s(n).save_info),1)])):m("",!0)],64)):(a(),d("label",pe,[x(t("input",{id:"gpos-save-card","onUpdate:modelValue":f[0]||(f[0]=b=>k(i)?i.value=b:null),type:"checkbox",value:"on",class:"border-gray-300 rounded !block !m-0"},null,512),[[j,s(i)]]),v(" "+c(p.$t("save_card_checkout")),1)])),s(i)&&s(o).name_field==="show_field"?(a(),d("div",{key:2,class:w(`flex w-full border !rounded ${e.value?"border-blue-700":"border-gray-300"}`)},[t("span",fe,[_(s(D),{class:"w-6 h-6 mx-3","aria-hidden":"true"})]),t("input",{id:"gpos-card-name",type:"text",placeholder:p.$t("card_name"),onFocus:f[1]||(f[1]=b=>e.value=!e.value),onFocusout:f[2]||(f[2]=b=>e.value=!e.value)},null,40,ve)],2)):m("",!0)])):m("",!0)}},he=["value"],be=["value"],ge={class:"w-2/12"},$e=["src","alt"],xe={class:"w-6/12"},we={class:"w-2/12 text-end"},ke={class:"w-2/12 text-end"},Ce={__name:"SavedCard",props:{savedCard:{required:!0,type:Object}},setup(r){const{selectedSavedCard:e,card:l,assetsUrl:o}=g(h()),n=r;P(()=>{n.savedCard.default&&i()});const i=()=>{e.value=n.savedCard.id,l.value.bin=n.savedCard.masked_card_bin};return(u,p)=>(a(),d("div",{class:w(`${s(e)===r.savedCard.id?"border-l-green-400":"border-l-gray-50"} rounded border-l-4  bg-[#fbfbfb] w-full px-3 py-4 cursor-pointer flex items-center font-semibold`),onClick:p[0]||(p[0]=f=>i())},[s(e)===r.savedCard.id?(a(),d($,{key:0},[t("input",{id:"gpos-card-bin",value:r.savedCard.masked_card_bin,type:"hidden"},null,8,he),t("input",{id:"gpos-saved-card",value:r.savedCard.id,type:"hidden"},null,8,be)],64)):m("",!0),t("div",ge,[t("img",{class:"w-9 h-9 object-contain rounded-md",src:`${s(o)}/images/card/${r.savedCard.card_family?r.savedCard.card_family.toLowerCase().replaceAll(/\s/g,""):"default"}.svg
          `,alt:r.savedCard.card_family},null,8,$e)]),t("div",xe,c(r.savedCard.card_name||u.$t("saved_card")),1),t("div",we,c(r.savedCard.last_four_digit),1),t("div",ke,c(r.savedCard.card_expiry_month)+"/"+c(r.savedCard.card_expiry_year.substr(-2)),1)],2))}},Se={key:0,class:"flex flex-col"},je={key:1,class:"flex flex-col gap-2 mb-2"},Le=t("input",{id:"gpos-use-saved-card",type:"hidden",value:"on",checked:""},null,-1),Me={__name:"Pro",setup(r){const{savedCards:e,selectedSavedCard:l,card:o,cardSaveSettings:n,showFields:i}=g(h()),u=()=>{l.value="",o.value.bin="",o.value.type=""};return(p,f)=>s(i)?(a(),d("div",Se,[s(e).length&&s(n).active?(a(),d("div",{key:0,class:"rounded bg-gray-100 w-full p-3 border shadow hover:shadow-md border-gray-300 cursor-pointer mb-3 text-md font-semibold flex items-center",onClick:f[0]||(f[0]=b=>i.value=!s(i))},[_(s(z),{class:"w-6 h-6 mx-3","aria-hidden":"true"}),v(" "+c(p.$t("pay_with_saved")),1)])):m("",!0),_(T),_(ye)])):(a(),d("div",je,[t("div",{class:"rounded bg-gray-100 w-full p-3 border shadow hover:shadow-md border-gray-300 cursor-pointer mb-3 text-md font-semibold flex items-center",onClick:f[1]||(f[1]=b=>(i.value=!s(i),u()))},[_(s(E),{class:"w-6 h-6 mx-3","aria-hidden":"true"}),v(" "+c(p.$t("pay_with_diff")),1)]),Le,(a(!0),d($,null,C(s(e),b=>(a(),y(Ce,{key:b.id,"saved-card":b},null,8,["saved-card"]))),128)),_(M)]))}},Te={class:"w-full flex flex-col gap-4"},Ve={class:"w-full !text-md bg-gray-200 border border-gray-300 flex justify-between items-center rounded-md p-2 font-semibold"},Ae=["for"],Fe=["id","data-rate","value"],Ie={class:"flex gap-3 items-end !text-md"},He={class:"text-gray-400"},Oe=["innerHTML"],Be={class:"flex items-center justify-end font-semibold"},Ue=["innerHTML"],qe={__name:"RowList",props:{rates:{required:!0,type:Object}},setup(r){const{selectedInstallment:e}=g(h());return(l,o)=>(a(),d("div",Te,[t("div",Ve,[t("div",null,c(l.$t("installment_number")),1),t("div",null,c(l.$t("monthly_payment")),1)]),(a(!0),d($,null,C(r.rates,(n,i)=>(a(),d("label",{key:i,for:`gpos-installment-${n.installment_number}`,class:"bg-white border border-gray-300 flex justify-between p-2 rounded-md items-center cursor-pointer font-semibold ml-2"},[t("div",null,[x(t("input",{id:`gpos-installment-${n.installment_number}`,"onUpdate:modelValue":o[0]||(o[0]=u=>k(e)?e.value=u:null),type:"radio","data-name":"gpos-installment","data-rate":n.rate,value:n.installment_number},null,8,Fe),[[L,s(e)]]),v(" "+c(n.installment_number),1)]),t("div",Ie,[t("div",He,[t("span",null,c(l.$t("total"))+": ",1),v(" "+c(n.amount_total),1),t("span",{innerHTML:n.currency_symbol},null,8,Oe)]),t("div",Be,[v(c(n.amount_per_month)+" ",1),t("span",{innerHTML:n.currency_symbol},null,8,Ue),v("Â / "+c(l.$t("month"))+" ",1)])])],8,Ae))),128))]))}},Ne={class:"w-full text-sm text-gray-500"},Re={class:"text-xs text-gray-700 bg-gray-50"},De={scope:"col",class:"!px-6 !py-3"},Pe={scope:"col",class:"!px-6 !py-3"},ze={scope:"row",class:"!px-6 !py-4 font-medium text-gray-900",colspan:"2"},Ee=["for"],Je=["id","data-rate","value"],Ke=["innerHTML"],Ge={__name:"TableList",props:{rates:{required:!0,type:Object}},setup(r){const{selectedInstallment:e}=g(h());return(l,o)=>(a(),d("table",Ne,[t("thead",Re,[t("tr",null,[t("th",De,c(l.$t("installment_number")),1),t("th",Pe,c(l.$t("monthly_payment")),1)])]),t("tbody",null,[(a(!0),d($,null,C(r.rates,(n,i)=>(a(),d("tr",{key:i,class:"bg-white !border-gray-900 !border-b !border-collapse"},[t("td",ze,[t("label",{for:`gpos-installment-${n.installment_number}`,class:"cursor-pointer flex w-full justify-between items-center"},[t("div",null,[x(t("input",{id:`gpos-installment-${n.installment_number}`,"onUpdate:modelValue":o[0]||(o[0]=u=>k(e)?e.value=u:null),type:"radio","data-name":"gpos-installment","data-rate":n.rate,value:n.installment_number},null,8,Je),[[L,s(e)]]),v(" "+c(n.installment_number)+" "+c(l.$t("installment")),1)]),t("div",null,[v(c(n.amount_per_month)+" ",1),t("span",{innerHTML:n.currency_symbol},null,8,Ke)])],8,Ee)])]))),128))])]))}},Qe={key:0,class:"w-full mt-4"},We={__name:"Installments",setup(r){const{isInstallmentsActive:e,installments:l,formSettings:o,card:n}=g(h()),i=J(()=>{var p;let u=(p=n.value.family)==null?void 0:p.toLowerCase().replaceAll(/\s/g,"");switch(u){case"qnbfinansbankcc":u="cardfinans";break}return l.value[u]});return(u,p)=>i.value&&Object.keys(i.value).length>1&&s(e)&&s(n).type==="credit"?(a(),d("div",Qe,[s(o).installment_view==="row_view"?(a(),y(qe,{key:0,rates:i.value},null,8,["rates"])):m("",!0),s(o).installment_view==="table_view"?(a(),y(Ge,{key:1,rates:i.value},null,8,["rates"])):m("",!0)])):m("",!0)}};const Xe={class:"flex flex-col gpos-checkout-class"},Ye={__name:"App",setup(r){const{isProActive:e,gateway:l}=h();let o=q;return l&&(o=e?Me:T),K(B),(n,i)=>(a(),d("div",Xe,[(a(),y(G(s(o)))),s(l)?(a(),y(We,{key:0})):m("",!0),_(U)]))}};window.gposCreateCheckoutApplication=()=>{const r=Q({locale:"default",messages:window.gpos.strings,legacy:!1}),e=W(Ye);return e.use(X),e.use(Y),e.use(r),e.mount("#app"),e};
